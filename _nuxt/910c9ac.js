(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{369:function(e,t,n){var r=n(371).has;e.exports=function(e){return r(e),e}},370:function(e,t,n){var r=n(7),o=n(390),c=n(371),h=c.Map,d=c.proto,l=r(d.forEach),f=r(d.entries),y=f(new h).next;e.exports=function(map,e,t){return t?o(f(map),(function(t){return e(t[1],t[0])}),y):l(map,e)}},371:function(e,t,n){var r=n(7),o=Map.prototype;e.exports={Map:Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},372:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.validateGraph=t.canUse32BitsIndices=t.extractPixel=t.getMatrixImpact=t.matrixFromCamera=t.getCorrectionRatio=t.floatColor=t.floatArrayColor=t.parseColor=t.zIndexOrdering=t.createNormalizationFunction=t.graphExtent=t.getPixelRatio=t.createElement=t.cancelFrame=t.requestFrame=t.assignDeep=t.assign=t.isPlainObject=void 0;var c=o(n(417)),h=n(398),d=n(418);function l(e){return"object"==typeof e&&null!==e&&e.constructor===Object}t.isPlainObject=l,t.assign=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e=e||{};for(var i=0,r=t.length;i<r;i++){var o=t[i];o&&Object.assign(e,o)}return e},t.assignDeep=function e(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t=t||{};for(var i=0,o=n.length;i<o;i++){var c=n[i];if(c)for(var h in c)l(c[h])?t[h]=e(t[h],c[h]):t[h]=c[h]}return t},t.requestFrame="undefined"!=typeof requestAnimationFrame?function(e){return requestAnimationFrame(e)}:function(e){return setTimeout(e,0)},t.cancelFrame="undefined"!=typeof cancelAnimationFrame?function(e){return cancelAnimationFrame(e)}:function(e){return clearTimeout(e)},t.createElement=function(e,style,t){var element=document.createElement(e);if(style)for(var n in style)element.style[n]=style[n];if(t)for(var n in t)element.setAttribute(n,t[n]);return element},t.getPixelRatio=function(){return void 0!==window.devicePixelRatio?window.devicePixelRatio:1},t.graphExtent=function(e){if(!e.order)return{x:[0,1],y:[0,1]};var t=1/0,n=-1/0,r=1/0,o=-1/0;return e.forEachNode((function(e,c){var h=c.x,d=c.y;h<t&&(t=h),h>n&&(n=h),d<r&&(r=d),d>o&&(o=d)})),{x:[t,n],y:[r,o]}},t.createNormalizationFunction=function(e){var t=r(e.x,2),n=t[0],o=t[1],c=r(e.y,2),h=c[0],d=c[1],l=Math.max(o-n,d-h),f=(o+n)/2,y=(d+h)/2;(0===l||Math.abs(l)===1/0||isNaN(l))&&(l=1),isNaN(f)&&(f=0),isNaN(y)&&(y=0);var v=function(data){return{x:.5+(data.x-f)/l,y:.5+(data.y-y)/l}};return v.applyTo=function(data){data.x=.5+(data.x-f)/l,data.y=.5+(data.y-y)/l},v.inverse=function(data){return{x:f+l*(data.x-.5),y:y+l*(data.y-.5)}},v.ratio=l,v},t.zIndexOrdering=function(e,t,n){return n.sort((function(a,b){var e=t(a)||0,n=t(b)||0;return e<n?-1:e>n?1:0}))};var f=new Int8Array(4),y=new Int32Array(f.buffer,0,1),v=new Float32Array(f.buffer,0,1),m=/^\s*rgba?\s*\(/,w=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function _(e){var t=0,g=0,b=0,a=1;if("#"===e[0])4===e.length?(t=parseInt(e.charAt(1)+e.charAt(1),16),g=parseInt(e.charAt(2)+e.charAt(2),16),b=parseInt(e.charAt(3)+e.charAt(3),16)):(t=parseInt(e.charAt(1)+e.charAt(2),16),g=parseInt(e.charAt(3)+e.charAt(4),16),b=parseInt(e.charAt(5)+e.charAt(6),16)),9===e.length&&(a=parseInt(e.charAt(7)+e.charAt(8),16)/255);else if(m.test(e)){var n=e.match(w);n&&(t=+n[1],g=+n[2],b=+n[3],n[4]&&(a=+n[4]))}return{r:t,g:g,b:b,a:a}}t.parseColor=_;var x={};for(var E in d.HTML_COLORS)x[E]=S(d.HTML_COLORS[E]),x[d.HTML_COLORS[E]]=x[E];function S(e){if(void 0!==x[e])return x[e];var t=_(e),n=t.r,g=t.g,b=t.b,a=t.a;a=255*a|0,y[0]=4278190079&(a<<24|b<<16|g<<8|n);var r=v[0];return x[e]=r,r}function L(e,t){var n=e.height/e.width,r=t.height/t.width;return n<1&&r>1||n>1&&r<1?1:Math.min(Math.max(r,1/r),Math.max(1/n,n))}t.floatArrayColor=function(e){var t=_(e=d.HTML_COLORS[e]||e),n=t.r,g=t.g,b=t.b,a=t.a;return new Float32Array([n/255,g/255,b/255,a])},t.floatColor=S,t.getCorrectionRatio=L,t.matrixFromCamera=function(e,t,n,r,o){var c=e.angle,d=e.ratio,l=e.x,f=e.y,y=t.width,v=t.height,m=(0,h.identity)(),w=Math.min(y,v)-2*r,_=L(t,n);return o?((0,h.multiply)(m,(0,h.translate)((0,h.identity)(),l,f)),(0,h.multiply)(m,(0,h.scale)((0,h.identity)(),d)),(0,h.multiply)(m,(0,h.rotate)((0,h.identity)(),c)),(0,h.multiply)(m,(0,h.scale)((0,h.identity)(),y/w/2/_,v/w/2/_))):((0,h.multiply)(m,(0,h.scale)((0,h.identity)(),w/y*2*_,w/v*2*_)),(0,h.multiply)(m,(0,h.rotate)((0,h.identity)(),-c)),(0,h.multiply)(m,(0,h.scale)((0,h.identity)(),1/d)),(0,h.multiply)(m,(0,h.translate)((0,h.identity)(),-l,-f))),m},t.getMatrixImpact=function(e,t,n){var r=(0,h.multiplyVec2)(e,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),o=r.x,c=r.y;return 1/Math.sqrt(Math.pow(o,2)+Math.pow(c,2))/n.width},t.extractPixel=function(e,t,n,r){var data=r||new Uint8Array(4);return e.readPixels(t,n,1,1,e.RGBA,e.UNSIGNED_BYTE,data),data},t.canUse32BitsIndices=function(e){return"undefined"!=typeof WebGL2RenderingContext&&e instanceof WebGL2RenderingContext||!!e.getExtension("OES_element_index_uint")},t.validateGraph=function(e){if(!(0,c.default)(e))throw new Error("Sigma: invalid graph instance.");e.forEachNode((function(e,t){if(!Number.isFinite(t.x)||!Number.isFinite(t.y))throw new Error("Sigma: Coordinates of node ".concat(e," are invalid. A node must have a numeric 'x' and 'y' attribute."))}))}},373:function(e,t,n){n(387)},374:function(e,t,n){"use strict";var r=n(4),o=n(369),c=n(371).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var e,t=o(this),n=!0,r=0,h=arguments.length;r<h;r++)e=c(t,arguments[r]),n=n&&e;return!!n}})},375:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0);return!1!==h(map,(function(e,n){if(!t(e,n,map))return!1}),!0)}})},376:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(371),d=n(370),l=h.Map,f=h.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0),n=new l;return d(map,(function(e,r){t(e,r,map)&&f(n,r,e)})),n}})},377:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0),n=h(map,(function(e,n){if(t(e,n,map))return{value:e}}),!0);return n&&n.value}})},378:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0),n=h(map,(function(e,n){if(t(e,n,map))return{key:n}}),!0);return n&&n.key}})},379:function(e,t,n){"use strict";var r=n(4),o=n(391),c=n(369),h=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(e){return!0===h(c(this),(function(t){if(o(t,e))return!0}),!0)}})},380:function(e,t,n){"use strict";var r=n(4),o=n(369),c=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(e){var t=c(o(this),(function(t,n){if(t===e)return{key:n}}),!0);return t&&t.key}})},381:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(371),d=n(370),l=h.Map,f=h.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0),n=new l;return d(map,(function(e,r){f(n,t(e,r,map),e)})),n}})},382:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(371),d=n(370),l=h.Map,f=h.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0),n=new l;return d(map,(function(e,r){f(n,r,t(e,r,map))})),n}})},383:function(e,t,n){"use strict";var r=n(4),o=n(369),c=n(187),h=n(371).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(e){for(var map=o(this),t=arguments.length,i=0;i<t;)c(arguments[i++],(function(e,t){h(map,e,t)}),{AS_ENTRIES:!0});return map}})},384:function(e,t,n){"use strict";var r=n(4),o=n(53),c=n(369),h=n(370),d=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(e){var map=c(this),t=arguments.length<2,n=t?void 0:arguments[1];if(o(e),h(map,(function(r,o){t?(t=!1,n=r):n=e(n,r,o,map)})),t)throw d("Reduce of empty map with no initial value");return n}})},385:function(e,t,n){"use strict";var r=n(4),o=n(76),c=n(369),h=n(370);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(e){var map=c(this),t=o(e,arguments.length>1?arguments[1]:void 0);return!0===h(map,(function(e,n){if(t(e,n,map))return!0}),!0)}})},386:function(e,t,n){"use strict";var r=n(4),o=n(53),c=n(369),h=n(371),d=TypeError,l=h.get,f=h.has,y=h.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(e,t){var map=c(this),n=arguments.length;o(t);var r=f(map,e);if(!r&&n<3)throw d("Updating absent value");var h=r?l(map,e):o(n>2?arguments[2]:void 0)(e,map);return y(map,e,t(h,e,map)),map}})},387:function(e,t,n){"use strict";n(388)("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),n(389))},388:function(e,t,n){"use strict";var r=n(4),o=n(15),c=n(7),h=n(125),d=n(37),l=n(261),f=n(187),y=n(188),v=n(16),m=n(66),w=n(31),_=n(6),x=n(189),E=n(105),S=n(193);e.exports=function(e,t,n){var L=-1!==e.indexOf("Map"),C=-1!==e.indexOf("Weak"),A=L?"set":"add",k=o[e],O=k&&k.prototype,R=k,G={},D=function(e){var t=c(O[e]);d(O,e,"add"==e?function(e){return t(this,0===e?0:e),this}:"delete"==e?function(e){return!(C&&!w(e))&&t(this,0===e?0:e)}:"get"==e?function(e){return C&&!w(e)?void 0:t(this,0===e?0:e)}:"has"==e?function(e){return!(C&&!w(e))&&t(this,0===e?0:e)}:function(e,n){return t(this,0===e?0:e,n),this})};if(h(e,!v(k)||!(C||O.forEach&&!_((function(){(new k).entries().next()})))))R=n.getConstructor(t,e,L,A),l.enable();else if(h(e,!0)){var F=new R,T=F[A](C?{}:-0,1)!=F,M=_((function(){F.has(1)})),P=x((function(e){new k(e)})),N=!C&&_((function(){for(var e=new k,t=5;t--;)e[A](t,t);return!e.has(-0)}));P||((R=t((function(e,t){y(e,O);var n=S(new k,e,R);return m(t)||f(t,n[A],{that:n,AS_ENTRIES:L}),n}))).prototype=O,O.constructor=R),(M||N)&&(D("delete"),D("has"),L&&D("get")),(N||T)&&D(A),C&&O.clear&&delete O.clear}return G[e]=R,r({global:!0,constructor:!0,forced:R!=k},G),E(R,e),C||n.setStrong(R,e,L),R}},389:function(e,t,n){"use strict";var r=n(78),o=n(104),c=n(263),h=n(76),d=n(188),l=n(66),f=n(187),y=n(190),v=n(191),m=n(192),w=n(22),_=n(261).fastKey,x=n(67),E=x.set,S=x.getterFor;e.exports={getConstructor:function(e,t,n,y){var v=e((function(e,o){d(e,m),E(e,{type:t,index:r(null),first:void 0,last:void 0,size:0}),w||(e.size=0),l(o)||f(o,e[y],{that:e,AS_ENTRIES:n})})),m=v.prototype,x=S(t),L=function(e,t,n){var r,o,c=x(e),h=C(e,t);return h?h.value=n:(c.last=h={index:o=_(t,!0),key:t,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=h),r&&(r.next=h),w?c.size++:e.size++,"F"!==o&&(c.index[o]=h)),e},C=function(e,t){var n,r=x(e),o=_(t);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==t)return n};return c(m,{clear:function(){for(var e=x(this),data=e.index,t=e.first;t;)t.removed=!0,t.previous&&(t.previous=t.previous.next=void 0),delete data[t.index],t=t.next;e.first=e.last=void 0,w?e.size=0:this.size=0},delete:function(e){var t=this,n=x(t),r=C(t,e);if(r){var o=r.next,c=r.previous;delete n.index[r.index],r.removed=!0,c&&(c.next=o),o&&(o.previous=c),n.first==r&&(n.first=o),n.last==r&&(n.last=c),w?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=x(this),r=h(e,arguments.length>1?arguments[1]:void 0);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!C(this,e)}}),c(m,n?{get:function(e){var t=C(this,e);return t&&t.value},set:function(e,t){return L(this,0===e?0:e,t)}}:{add:function(e){return L(this,e=0===e?0:e,e)}}),w&&o(m,"size",{configurable:!0,get:function(){return x(this).size}}),v},setStrong:function(e,t,n){var r=t+" Iterator",o=S(t),c=S(r);y(e,t,(function(e,t){E(this,{type:r,target:e,state:o(e),kind:t,last:void 0})}),(function(){for(var e=c(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?v("keys"==t?n.key:"values"==t?n.value:[n.key,n.value],!1):(e.target=void 0,v(void 0,!0))}),n?"entries":"values",!n,!0),m(t)}}},390:function(e,t,n){var r=n(21);e.exports=function(e,t,n){for(var o,c,h=n||e.next;!(o=r(h,e)).done;)if(void 0!==(c=t(o.value)))return c}},391:function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},392:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var c=function(e){function t(){var t=e.call(this)||this;return t.rawEmitter=t,t}return o(t,e),t}(n(419).EventEmitter);t.TypedEventEmitter=c},393:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.createEdgeCompoundProgram=t.EdgeProgram=t.AbstractEdgeProgram=void 0;var c=n(404),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(c.AbstractProgram);t.AbstractEdgeProgram=h;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.process=function(e,t,n,data){var i=e*this.STRIDE;if(!(data.hidden||t.hidden||n.hidden))return this.processVisibleItem(i,t,n,data);for(var r=i+this.STRIDE;i<r;i++)this.array[i]=0},t}(c.Program);t.EdgeProgram=d,t.createEdgeCompoundProgram=function(e){return function(){function t(t,n){this.programs=e.map((function(e){return new e(t,n)}))}return t.prototype.reallocate=function(e){this.programs.forEach((function(t){return t.reallocate(e)}))},t.prototype.process=function(e,t,n,data){this.programs.forEach((function(r){return r.process(e,t,n,data)}))},t.prototype.render=function(e){this.programs.forEach((function(t){return t.render(e)}))},t}()}},394:function(e,t,n){"use strict";n(12),n(13),n(17),n(18);var r=n(2),o=(n(5),n(51),n(58),n(32),n(11),n(28),n(54),n(373),n(49),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(50),n(10),n(262),n(1)),c=n(79),h=n(0);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=["sm","md","lg","xl"],y=["start","end","center"];function v(e,t){return f.reduce((function(n,r){return n[e+Object(h.t)(r)]=t(),n}),{})}var m=function(e){return[].concat(y,["baseline","stretch"]).includes(e)},w=v("align",(function(){return{type:String,default:null,validator:m}})),_=function(e){return[].concat(y,["space-between","space-around"]).includes(e)},x=v("justify",(function(){return{type:String,default:null,validator:_}})),E=function(e){return[].concat(y,["space-between","space-around","stretch"]).includes(e)},S=v("alignContent",(function(){return{type:String,default:null,validator:E}})),L={align:Object.keys(w),justify:Object.keys(x),alignContent:Object.keys(S)},C={align:"align",justify:"justify",alignContent:"align-content"};function A(e,t,n){var r=C[e];if(null!=n){if(t){var o=t.replace(e,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var k=new Map;t.a=o.a.extend({name:"v-row",functional:!0,props:l(l(l({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:m}},w),{},{justify:{type:String,default:null,validator:_}},x),{},{alignContent:{type:String,default:null,validator:E}},S),render:function(e,t){var n=t.props,data=t.data,o=t.children,h="";for(var d in n)h+=String(n[d]);var l=k.get(h);if(!l){var f,y;for(y in l=[],L)L[y].forEach((function(e){var t=n[e],r=A(y,e,t);r&&l.push(r)}));l.push((f={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(f,"align-".concat(n.align),n.align),Object(r.a)(f,"justify-".concat(n.justify),n.justify),Object(r.a)(f,"align-content-".concat(n.alignContent),n.alignContent),f)),k.set(h,l)}return e(n.tag,Object(c.a)(data,{staticClass:"row",class:l}),o)}})},395:function(e,t,n){"use strict";n(12),n(13),n(17),n(18);var r=n(2),o=(n(5),n(23),n(11),n(28),n(54),n(373),n(49),n(374),n(375),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(50),n(51),n(10),n(59),n(262),n(1)),c=n(79),h=n(0);function d(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f=["sm","md","lg","xl"],y=f.reduce((function(e,t){return e[t]={type:[Boolean,String,Number],default:!1},e}),{}),v=f.reduce((function(e,t){return e["offset"+Object(h.t)(t)]={type:[String,Number],default:null},e}),{}),m=f.reduce((function(e,t){return e["order"+Object(h.t)(t)]={type:[String,Number],default:null},e}),{}),w={col:Object.keys(y),offset:Object.keys(v),order:Object.keys(m)};function _(e,t,n){var r=e;if(null!=n&&!1!==n){if(t){var o=t.replace(e,"");r+="-".concat(o)}return"col"!==e||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var x=new Map;t.a=o.a.extend({name:"v-col",functional:!0,props:l(l(l(l({cols:{type:[Boolean,String,Number],default:!1}},y),{},{offset:{type:[String,Number],default:null}},v),{},{order:{type:[String,Number],default:null}},m),{},{alignSelf:{type:String,default:null,validator:function(e){return["auto","start","end","center","baseline","stretch"].includes(e)}},tag:{type:String,default:"div"}}),render:function(e,t){var n=t.props,data=t.data,o=t.children,h=(t.parent,"");for(var d in n)h+=String(n[d]);var l=x.get(h);if(!l){var f,y;for(y in l=[],w)w[y].forEach((function(e){var t=n[e],r=_(y,e,t);r&&l.push(r)}));var v=l.some((function(e){return e.startsWith("col-")}));l.push((f={col:!v||!n.cols},Object(r.a)(f,"col-".concat(n.cols),n.cols),Object(r.a)(f,"offset-".concat(n.offset),n.offset),Object(r.a)(f,"order-".concat(n.order),n.order),Object(r.a)(f,"align-self-".concat(n.alignSelf),n.alignSelf),f)),x.set(h,l)}return e(n.tag,Object(c.a)(data,{class:l}),o)}})},396:function(e,t){e.exports=function(e,t){var n=t.length;if(0!==n){var r=e.length;e.length+=n;for(var i=0;i<n;i++)e[r+i]=t[i]}}},397:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(416),d=c(n(399)),l=n(372),f=n(392),y=1.5,v=function(e){function t(){var t=e.call(this)||this;return t.x=.5,t.y=.5,t.angle=0,t.ratio=1,t.minRatio=null,t.maxRatio=null,t.nextFrame=null,t.previousState=null,t.enabled=!0,t.previousState=t.getState(),t}return o(t,e),t.from=function(e){return(new t).setState(e)},t.prototype.enable=function(){return this.enabled=!0,this},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},t.prototype.hasState=function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle},t.prototype.getPreviousState=function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null},t.prototype.getBoundedRatio=function(e){var t=e;return"number"==typeof this.minRatio&&(t=Math.max(t,this.minRatio)),"number"==typeof this.maxRatio&&(t=Math.min(t,this.maxRatio)),t},t.prototype.validateState=function(e){var t={};return"number"==typeof e.x&&(t.x=e.x),"number"==typeof e.y&&(t.y=e.y),"number"==typeof e.angle&&(t.angle=e.angle),"number"==typeof e.ratio&&(t.ratio=this.getBoundedRatio(e.ratio)),t},t.prototype.isAnimated=function(){return!!this.nextFrame},t.prototype.setState=function(e){if(!this.enabled)return this;this.previousState=this.getState();var t=this.validateState(e);return"number"==typeof t.x&&(this.x=t.x),"number"==typeof t.y&&(this.y=t.y),"number"==typeof t.angle&&(this.angle=t.angle),"number"==typeof t.ratio&&(this.ratio=t.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},t.prototype.updateState=function(e){return this.setState(e(this.getState())),this},t.prototype.animate=function(e,t,n){var r=this;if(this.enabled){var o=Object.assign({},h.ANIMATE_DEFAULTS,t),c=this.validateState(e),f="function"==typeof o.easing?o.easing:d.default[o.easing],y=Date.now(),v=this.getState(),m=function(){var e=(Date.now()-y)/o.duration;if(e>=1)return r.nextFrame=null,r.setState(c),void(r.animationCallback&&(r.animationCallback.call(null),r.animationCallback=void 0));var t=f(e),n={};"number"==typeof c.x&&(n.x=v.x+(c.x-v.x)*t),"number"==typeof c.y&&(n.y=v.y+(c.y-v.y)*t),"number"==typeof c.angle&&(n.angle=v.angle+(c.angle-v.angle)*t),"number"==typeof c.ratio&&(n.ratio=v.ratio+(c.ratio-v.ratio)*t),r.setState(n),r.nextFrame=(0,l.requestFrame)(m)};this.nextFrame?((0,l.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,l.requestFrame)(m)):m(),this.animationCallback=n}},t.prototype.animatedZoom=function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio/e});this.animate({ratio:this.ratio/(e.factor||y)},e)}else this.animate({ratio:this.ratio/y})},t.prototype.animatedUnzoom=function(e){if(e){if("number"==typeof e)return this.animate({ratio:this.ratio*e});this.animate({ratio:this.ratio*(e.factor||y)},e)}else this.animate({ratio:this.ratio*y})},t.prototype.animatedReset=function(e){this.animate({x:.5,y:.5,ratio:1,angle:0},e)},t.prototype.copy=function(){return t.from(this.getState())},t}(f.TypedEventEmitter);t.default=v},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.multiplyVec2=t.multiply=t.translate=t.rotate=t.scale=t.identity=void 0,t.identity=function(){return Float32Array.of(1,0,0,0,1,0,0,0,1)},t.scale=function(e,t,n){return e[0]=t,e[4]="number"==typeof n?n:t,e},t.rotate=function(e,t){var s=Math.sin(t),n=Math.cos(t);return e[0]=n,e[1]=s,e[3]=-s,e[4]=n,e},t.translate=function(e,t,n){return e[6]=t,e[7]=n,e},t.multiply=function(a,b){var e=a[0],t=a[1],n=a[2],r=a[3],o=a[4],c=a[5],h=a[6],d=a[7],l=a[8],f=b[0],y=b[1],v=b[2],m=b[3],w=b[4],_=b[5],x=b[6],E=b[7],S=b[8];return a[0]=f*e+y*r+v*h,a[1]=f*t+y*o+v*d,a[2]=f*n+y*c+v*l,a[3]=m*e+w*r+_*h,a[4]=m*t+w*o+_*d,a[5]=m*n+w*c+_*l,a[6]=x*e+E*r+S*h,a[7]=x*t+E*o+S*d,a[8]=x*n+E*c+S*l,a},t.multiplyVec2=function(a,b,e){void 0===e&&(e=1);var t=a[0],n=a[1],r=a[3],o=a[4],c=a[6],h=a[7],d=b.x,l=b.y;return{x:d*t+l*r+c*e,y:d*n+l*o+h*e}}},399:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cubicInOut=t.cubicOut=t.cubicIn=t.quadraticInOut=t.quadraticOut=t.quadraticIn=t.linear=void 0;t.linear=function(e){return e};t.quadraticIn=function(e){return e*e};t.quadraticOut=function(e){return e*(2-e)};t.quadraticInOut=function(e){return(e*=2)<1?.5*e*e:-.5*(--e*(e-2)-1)};t.cubicIn=function(e){return e*e*e};t.cubicOut=function(e){return--e*e*e+1};t.cubicInOut=function(e){return(e*=2)<1?.5*e*e*e:.5*((e-=2)*e*e+2)};var r={linear:t.linear,quadraticIn:t.quadraticIn,quadraticOut:t.quadraticOut,quadraticInOut:t.quadraticInOut,cubicIn:t.cubicIn,cubicOut:t.cubicOut,cubicInOut:t.cubicInOut};t.default=r},400:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return h(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});var l=d(n(401)),f=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.enabled=!0,r.draggedEvents=0,r.downStartTime=null,r.lastMouseX=null,r.lastMouseY=null,r.isMouseDown=!1,r.isMoving=!1,r.movingTimeout=null,r.startCameraState=null,r.clicks=0,r.doubleClickTimeout=null,r.currentWheelDirection=0,r.handleClick=r.handleClick.bind(r),r.handleRightClick=r.handleRightClick.bind(r),r.handleDown=r.handleDown.bind(r),r.handleUp=r.handleUp.bind(r),r.handleMove=r.handleMove.bind(r),r.handleWheel=r.handleWheel.bind(r),r.handleOut=r.handleOut.bind(r),t.addEventListener("click",r.handleClick,!1),t.addEventListener("contextmenu",r.handleRightClick,!1),t.addEventListener("mousedown",r.handleDown,!1),t.addEventListener("wheel",r.handleWheel,!1),t.addEventListener("mouseout",r.handleOut,!1),document.addEventListener("mousemove",r.handleMove,!1),document.addEventListener("mouseup",r.handleUp,!1),r}return o(t,e),t.prototype.kill=function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},t.prototype.handleClick=function(e){var t=this;if(this.enabled){if(this.clicks++,2===this.clicks)return this.clicks=0,"number"==typeof this.doubleClickTimeout&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout((function(){t.clicks=0,t.doubleClickTimeout=null}),300),this.draggedEvents<3&&this.emit("click",(0,l.getMouseCoords)(e,this.container))}},t.prototype.handleRightClick=function(e){this.enabled&&this.emit("rightClick",(0,l.getMouseCoords)(e,this.container))},t.prototype.handleDoubleClick=function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var t=(0,l.getMouseCoords)(e,this.container);if(this.emit("doubleClick",t),!t.sigmaDefaultPrevented){var n=this.renderer.getCamera(),r=n.getBoundedRatio(n.getState().ratio/2.2);n.animate(this.renderer.getViewportZoomedState((0,l.getPosition)(e,this.container),r),{easing:"quadraticInOut",duration:200})}}},t.prototype.handleDown=function(e){if(this.enabled){if(0===e.button){this.startCameraState=this.renderer.getCamera().getState();var t=(0,l.getPosition)(e,this.container),n=t.x,r=t.y;this.lastMouseX=n,this.lastMouseY=r,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0}this.emit("mousedown",(0,l.getMouseCoords)(e,this.container))}},t.prototype.handleUp=function(e){var t=this;if(this.enabled&&this.isMouseDown){var n=this.renderer.getCamera();this.isMouseDown=!1,"number"==typeof this.movingTimeout&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var r=(0,l.getPosition)(e,this.container),o=r.x,c=r.y,h=n.getState(),d=n.getPreviousState()||{x:0,y:0};this.isMoving?n.animate({x:h.x+3*(h.x-d.x),y:h.y+3*(h.y-d.y)},{duration:200,easing:"quadraticOut"}):this.lastMouseX===o&&this.lastMouseY===c||n.setState({x:h.x,y:h.y}),this.isMoving=!1,setTimeout((function(){t.draggedEvents=0,t.renderer.refresh()}),0),this.emit("mouseup",(0,l.getMouseCoords)(e,this.container))}},t.prototype.handleMove=function(e){var t=this;if(this.enabled){var n=(0,l.getMouseCoords)(e,this.container);if(this.emit("mousemovebody",n),e.target===this.container&&this.emit("mousemove",n),!n.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,"number"==typeof this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){t.movingTimeout=null,t.isMoving=!1}),100);var r=this.renderer.getCamera(),o=(0,l.getPosition)(e,this.container),c=o.x,h=o.y,d=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),f=this.renderer.viewportToFramedGraph({x:c,y:h}),y=d.x-f.x,v=d.y-f.y,m=r.getState(),w=m.x+y,_=m.y+v;r.setState({x:w,y:_}),this.lastMouseX=c,this.lastMouseY=h,e.preventDefault(),e.stopPropagation()}}},t.prototype.handleWheel=function(e){var t=this;if(this.enabled){e.preventDefault(),e.stopPropagation();var n=(0,l.getWheelDelta)(e);if(n){var r=(0,l.getWheelCoords)(e,this.container);if(this.emit("wheel",r),!r.sigmaDefaultPrevented){var o=n>0?1/1.7:1.7,c=this.renderer.getCamera(),h=c.getBoundedRatio(c.getState().ratio*o),d=n>0?1:-1,f=Date.now();this.currentWheelDirection===d&&this.lastWheelTriggerTime&&f-this.lastWheelTriggerTime<50||(c.animate(this.renderer.getViewportZoomedState((0,l.getPosition)(e,this.container),h),{easing:"quadraticOut",duration:250},(function(){t.currentWheelDirection=0})),this.currentWheelDirection=d,this.lastWheelTriggerTime=f)}}}},t.prototype.handleOut=function(){},t}(l.default);t.default=f},401:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__assign||function(){return c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.getWheelDelta=t.getTouchCoords=t.getTouchesArray=t.getWheelCoords=t.getMouseCoords=t.getPosition=void 0;var h=n(392);function d(e,t){var n=t.getBoundingClientRect();return{x:e.clientX-n.left,y:e.clientY-n.top}}function l(e,t){var n=c(c({},d(e,t)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){n.sigmaDefaultPrevented=!0},original:e});return n}t.getPosition=d,t.getMouseCoords=l,t.getWheelCoords=function(e,t){return c(c({},l(e,t)),{delta:v(e)})};var f=2;function y(e){for(var t=[],i=0,n=Math.min(e.length,f);i<n;i++)t.push(e[i]);return t}function v(e){if(void 0!==e.deltaY)return-3*e.deltaY/360;if(void 0!==e.detail)return e.detail/-9;throw new Error("Captor: could not extract delta from event.")}t.getTouchesArray=y,t.getTouchCoords=function(e,t){return{touches:y(e.touches).map((function(e){return d(e,t)})),original:e}},t.getWheelDelta=v;var m=function(e){function t(t,n){var r=e.call(this)||this;return r.container=t,r.renderer=n,r}return o(t,e),t}(h.TypedEventEmitter);t.default=m},402:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.rectangleCollidesWithQuad=t.squareCollidesWithQuad=t.getCircumscribedAlignedRectangle=t.isRectangleAligned=void 0;var o=r(n(396)),c=!1;function h(rect){return rect.x1===rect.x2||rect.y1===rect.y2}function d(rect){var e=Math.sqrt(Math.pow(rect.x2-rect.x1,2)+Math.pow(rect.y2-rect.y1,2)),t=(rect.y1-rect.y2)*rect.height/e,n=(rect.x2-rect.x1)*rect.height/e,r={x:rect.x1,y:rect.y1},tr={x:rect.x2,y:rect.y2},o={x:rect.x1+t,y:rect.y1+n},br={x:rect.x2+t,y:rect.y2+n},c=Math.min(r.x,tr.x,o.x,br.x),h=Math.max(r.x,tr.x,o.x,br.x),d=Math.min(r.y,tr.y,o.y,br.y);return{x1:c,y1:d,x2:h,y2:d,height:Math.max(r.y,tr.y,o.y,br.y)-d}}function l(e,t,n,r,o,c,h){return e<r+c&&e+n>r&&t<o+h&&t+n>o}function f(e,t,n,r,o,c,h,d){return e<o+h&&e+n>o&&t<c+d&&t+r>c}function y(e,t,n,r,o,c){var h=e<n+o/2;return t<r+c/2?h?1:2:h?3:4}t.isRectangleAligned=h,t.getCircumscribedAlignedRectangle=d,t.squareCollidesWithQuad=l,t.rectangleCollidesWithQuad=f;var v=function(){function e(e){var t;void 0===e&&(e={}),this.containers=((t={})[5460]=[],t),this.cache=null,this.lastRectangle=null;var n=Math.pow(4,5);this.data=new Float32Array((4*n-1)/3*4),e.boundaries?this.resize(e.boundaries):this.resize({x:0,y:0,width:1,height:1})}return e.prototype.add=function(e,t,n,r){return function(e,data,t,n,r,o,h){for(var d=r-h,f=o-h,y=2*h,v=0,m=0;;){if(v>=e)return t[m]=t[m]||[],void t[m].push(n);var w=4*m+4,_=4*m+8,x=4*m+12,E=4*m+16,S=l(d,f,y,data[w+0],data[w+1],data[w+2],data[w+3]),L=l(d,f,y,data[_+0],data[_+1],data[_+2],data[_+3]),C=l(d,f,y,data[x+0],data[x+1],data[x+2],data[x+3]),A=l(d,f,y,data[E+0],data[E+1],data[E+2],data[E+3]),k=[S,L,C,A].reduce((function(e,t){return t?e+1:e}),0);if(0===k&&0===v)return t[5460].push(n),void(!c&&t[5460].length>=5&&(c=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box.")));if(0===k)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(v,", key: ").concat(n,", x: ").concat(r,", y: ").concat(o,", size: ").concat(h,")."));if(3===k)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(v,", key: ").concat(n,", x: ").concat(r,", y: ").concat(o,", size: ").concat(h,")."));if(k>1)return t[m]=t[m]||[],void t[m].push(n);v++,S&&(m=w),L&&(m=_),C&&(m=x),A&&(m=E)}}(5,this.data,this.containers,e,t,n,r),this},e.prototype.resize=function(e){this.clear(),this.data[0]=e.x,this.data[1]=e.y,this.data[2]=e.width,this.data[3]=e.height,function(e,data){for(var t=[0,0];t.length;){var n=t.pop(),r=t.pop(),o=4*r+4,c=4*r+8,h=4*r+12,d=4*r+16,l=data[r+0],f=data[r+1],y=data[r+2]/2,v=data[r+3]/2;data[o+0]=l,data[o+1]=f,data[o+2]=y,data[o+3]=v,data[c+0]=l+y,data[c+1]=f,data[c+2]=y,data[c+3]=v,data[h+0]=l,data[h+1]=f+v,data[h+2]=y,data[h+3]=v,data[d+0]=l+y,data[d+1]=f+v,data[d+2]=y,data[d+3]=v,n<e-1&&(t.push(d,n+1),t.push(h,n+1),t.push(c,n+1),t.push(o,n+1))}}(5,this.data)},e.prototype.clear=function(){var e;return this.containers=((e={})[5460]=[],e),this},e.prototype.point=function(e,t){var n=this.containers[5460].slice(),r=0,c=0;do{this.containers[r]&&(0,o.default)(n,this.containers[r]),r=4*r+4*y(e,t,this.data[r+0],this.data[r+1],this.data[r+2],this.data[r+3]),c++}while(c<=5);return n},e.prototype.rectangle=function(e,t,n,r,c){var l=this.lastRectangle;return l&&e===l.x1&&n===l.x2&&t===l.y1&&r===l.y2&&c===l.height||(this.lastRectangle={x1:e,y1:t,x2:n,y2:r,height:c},h(this.lastRectangle)||(this.lastRectangle=d(this.lastRectangle)),this.cache=function(e,data,t,n,r,c,h){for(var d,l=[0,0],y=[];l.length;){var v=l.pop(),m=l.pop();if((d=t[m])&&(0,o.default)(y,d),!(v>=e)){var w=4*m+4,_=4*m+8,x=4*m+12,E=4*m+16,S=f(n,r,c,h,data[w+0],data[w+1],data[w+2],data[w+3]),L=f(n,r,c,h,data[_+0],data[_+1],data[_+2],data[_+3]),C=f(n,r,c,h,data[x+0],data[x+1],data[x+2],data[x+3]),A=f(n,r,c,h,data[E+0],data[E+1],data[E+2],data[E+3]);S&&l.push(w,v+1),L&&l.push(_,v+1),C&&l.push(x,v+1),A&&l.push(E,v+1)}}return y}(5,this.data,this.containers,e,t,Math.abs(e-n)||Math.abs(t-r),c),(0,o.default)(this.cache,this.containers[5460])),this.cache},e}();t.default=v},403:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,data,t){if(data.label){var n=t.labelSize,r=t.labelFont,o=t.labelWeight,c=t.labelColor.attribute?data[t.labelColor.attribute]||t.labelColor.color||"#000":t.labelColor.color;e.fillStyle=c,e.font="".concat(o," ").concat(n,"px ").concat(r),e.fillText(data.label,data.x+data.size+3,data.y+n/3)}}},404:function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Program=t.AbstractProgram=void 0;var o=n(372),c=n(426),h=((r={})[WebGL2RenderingContext.BOOL]=1,r[WebGL2RenderingContext.BYTE]=1,r[WebGL2RenderingContext.UNSIGNED_BYTE]=1,r[WebGL2RenderingContext.SHORT]=2,r[WebGL2RenderingContext.UNSIGNED_SHORT]=2,r[WebGL2RenderingContext.INT]=4,r[WebGL2RenderingContext.UNSIGNED_INT]=4,r[WebGL2RenderingContext.FLOAT]=4,r),d=function(e,t){};t.AbstractProgram=d;var l=function(){function e(e,t){var n=this;this.array=new Float32Array,this.indicesArray=null,this.uniformLocations={},this.attributeLocations={},this.capacity=0,this.verticesCount=0;var r=this.getDefinition();this.VERTICES=r.VERTICES,this.ARRAY_ITEMS_PER_VERTEX=r.ARRAY_ITEMS_PER_VERTEX,this.VERTEX_SHADER_SOURCE=r.VERTEX_SHADER_SOURCE,this.FRAGMENT_SHADER_SOURCE=r.FRAGMENT_SHADER_SOURCE,this.UNIFORMS=r.UNIFORMS,this.ATTRIBUTES=r.ATTRIBUTES,this.STRIDE=this.VERTICES*this.ARRAY_ITEMS_PER_VERTEX,this.gl=e,this.renderer=t;var h=e.createBuffer();if(null===h)throw new Error("Program: error while creating the webgl buffer.");this.buffer=h;var d=e.createBuffer();if(null===d)throw new Error("Program: error while creating the webgl indices buffer.");this.indicesBuffer=d,this.vertexShader=(0,c.loadVertexShader)(this.gl,this.VERTEX_SHADER_SOURCE),this.fragmentShader=(0,c.loadFragmentShader)(this.gl,this.FRAGMENT_SHADER_SOURCE),this.program=(0,c.loadProgram)(this.gl,[this.vertexShader,this.fragmentShader]),this.canUse32BitsIndices=(0,o.canUse32BitsIndices)(this.gl),this.indicesType=this.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,this.IndicesArray=this.canUse32BitsIndices?Uint32Array:Uint16Array,this.UNIFORMS.forEach((function(e){var t=n.gl.getUniformLocation(n.program,e);if(null===t)throw new Error('Program: error while getting location for uniform "'.concat(e,'".'));n.uniformLocations[e]=t})),this.ATTRIBUTES.forEach((function(e){var t=n.gl.getAttribLocation(n.program,e.name);if(-1===t)throw new Error('Program: error while getting location for attribute "'.concat(e.name,'".'));n.attributeLocations[e.name]=t}))}return e.prototype.bind=function(){var e=this,t=this.gl;for(var n in t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.indicesArray&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),this.attributeLocations)t.enableVertexAttribArray(this.attributeLocations[n]);var r=0;this.ATTRIBUTES.forEach((function(n){var o=e.attributeLocations[n.name];t.vertexAttribPointer(o,n.size,n.type,n.normalized||!1,e.ARRAY_ITEMS_PER_VERTEX*Float32Array.BYTES_PER_ELEMENT,r);var c=h[n.type];if("number"!=typeof c)throw new Error('Program.bind: yet unsupported attribute type "'.concat(n.type,'"!'));r+=n.size*c}))},e.prototype.bufferData=function(){var e=this.gl;this.gl.bufferData(e.ARRAY_BUFFER,this.array,e.DYNAMIC_DRAW),this.indicesArray&&this.gl.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},e.prototype.reallocateIndices=function(){},e.prototype.reallocate=function(e){e!==this.capacity&&(this.capacity=e,this.verticesCount=this.VERTICES*e,this.array=new Float32Array(this.verticesCount*this.ARRAY_ITEMS_PER_VERTEX),"function"==typeof this.reallocateIndices&&this.reallocateIndices())},e.prototype.hasNothingToRender=function(){return 0===this.verticesCount},e.prototype.render=function(e){this.hasNothingToRender()||(this.bind(),this.bufferData(),this.gl.useProgram(this.program),this.draw(e))},e}();t.Program=l},405:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(372),d=n(393),l=c(n(429)),f=c(n(430)),y=WebGLRenderingContext.UNSIGNED_BYTE,v=WebGLRenderingContext.FLOAT,m=["u_matrix","u_zoomRatio","u_sizeRatio","u_correctionRatio"],w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDefinition=function(){return{VERTICES:4,ARRAY_ITEMS_PER_VERTEX:5,VERTEX_SHADER_SOURCE:l.default,FRAGMENT_SHADER_SOURCE:f.default,UNIFORMS:m,ATTRIBUTES:[{name:"a_position",size:2,type:v},{name:"a_normal",size:2,type:v},{name:"a_color",size:4,type:y,normalized:!0}]}},t.prototype.reallocateIndices=function(){for(var e=this.verticesCount,t=e+e/2,n=new this.IndicesArray(t),i=0,r=0;i<e;i+=4)n[r++]=i,n[r++]=i+1,n[r++]=i+2,n[r++]=i+2,n[r++]=i+1,n[r++]=i+3;this.indicesArray=n},t.prototype.processVisibleItem=function(i,e,t,data){var n=data.size||1,r=e.x,o=e.y,c=t.x,d=t.y,l=(0,h.floatColor)(data.color),f=c-r,y=d-o,v=f*f+y*y,m=0,w=0;v&&(m=-y*(v=1/Math.sqrt(v))*n,w=f*v*n);var _=this.array;_[i++]=r,_[i++]=o,_[i++]=m,_[i++]=w,_[i++]=l,_[i++]=r,_[i++]=o,_[i++]=-m,_[i++]=-w,_[i++]=l,_[i++]=c,_[i++]=d,_[i++]=m,_[i++]=w,_[i++]=l,_[i++]=c,_[i++]=d,_[i++]=-m,_[i++]=-w,_[i]=l},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,o=n.u_zoomRatio,c=n.u_correctionRatio,h=n.u_sizeRatio;if(t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(o,e.zoomRatio),t.uniform1f(h,e.sizeRatio),t.uniform1f(c,e.correctionRatio),!this.indicesArray)throw new Error("EdgeRectangleProgram: indicesArray should be allocated when drawing!");t.drawElements(t.TRIANGLES,this.indicesArray.length,this.indicesType,0)},t}(d.EdgeProgram);t.default=w},413:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}function n(e){return n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function o(e,t,n){return o=i()?Reflect.construct.bind():function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}function a(e){var t="function"==typeof Map?new Map:void 0;return a=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,a)}function a(){return o(e,arguments,n(this).constructor)}return a.prototype=Object.create(e.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r(a,e)},a(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=function(){for(var e=arguments[0],t=1,n=arguments.length;t<n;t++)if(arguments[t])for(var r in arguments[t])e[r]=arguments[t][r];return e};function h(e,t,n,r){var i=e._nodes.get(t),o=null;return i?o="mixed"===r?i.out&&i.out[n]||i.undirected&&i.undirected[n]:"directed"===r?i.out&&i.out[n]:i.undirected&&i.undirected[n]:o}function s(t){return"object"===e(t)&&null!==t}function d(e){var t;for(t in e)return!1;return!0}function p(e,t,n){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:n})}function l(e,t,n){var r={enumerable:!0,configurable:!0};"function"==typeof n?r.get=n:(r.value=n,r.writable=!1),Object.defineProperty(e,t,r)}function f(e){return!(!s(e)||e.attributes&&!Array.isArray(e.attributes))}"function"==typeof Object.assign&&(u=Object.assign);var g,y={exports:{}},v="object"==typeof Reflect?Reflect:null,m=v&&"function"==typeof v.apply?v.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};g=v&&"function"==typeof v.ownKeys?v.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var b=Number.isNaN||function(e){return e!=e};function w(){w.init.call(this)}y.exports=w,y.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}R(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&R(e,"error",t,n)}(e,i,{once:!0})}))},w.EventEmitter=w,w.prototype._events=void 0,w.prototype._eventsCount=0,w.prototype._maxListeners=void 0;var _=10;function x(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function E(e){return void 0===e._maxListeners?w.defaultMaxListeners:e._maxListeners}function S(e,t,n,r){var i,o,a,c;if(x(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"==typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=E(e))>0&&a.length>i&&!a.warned){a.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=a.length,c=u,console&&console.warn&&console.warn(c)}return e}function L(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function C(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=L.bind(r);return i.listener=n,r.wrapFn=i,i}function A(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):O(i,i.length)}function k(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function O(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function R(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}function G(e){if("function"!=typeof e)throw new Error("obliterator/iterator: expecting a function!");this.next=e}Object.defineProperty(w,"defaultMaxListeners",{enumerable:!0,get:function(){return _},set:function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");_=e}}),w.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},w.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||b(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},w.prototype.getMaxListeners=function(){return E(this)},w.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=i[e];if(void 0===c)return!1;if("function"==typeof c)m(c,this,t);else{var u=c.length,h=O(c,u);for(n=0;n<u;++n)m(h[n],this,t)}return!0},w.prototype.addListener=function(e,t){return S(this,e,t,!1)},w.prototype.on=w.prototype.addListener,w.prototype.prependListener=function(e,t){return S(this,e,t,!0)},w.prototype.once=function(e,t){return x(t),this.on(e,C(this,e,t)),this},w.prototype.prependOnceListener=function(e,t){return x(t),this.prependListener(e,C(this,e,t)),this},w.prototype.removeListener=function(e,t){var n,r,i,o,a;if(x(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},w.prototype.off=w.prototype.removeListener,w.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},w.prototype.listeners=function(e){return A(this,e,!0)},w.prototype.rawListeners=function(e){return A(this,e,!1)},w.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):k.call(e,t)},w.prototype.listenerCount=k,w.prototype.eventNames=function(){return this._eventsCount>0?g(this._events):[]},"undefined"!=typeof Symbol&&(G.prototype[Symbol.iterator]=function(){return this}),G.of=function(){var e=arguments,t=e.length,n=0;return new G((function(){return n>=t?{done:!0}:{done:!1,value:e[n++]}}))},G.empty=function(){return new G((function(){return{done:!0}}))},G.fromSequence=function(e){var t=0,n=e.length;return new G((function(){return t>=n?{done:!0}:{done:!1,value:e[t++]}}))},G.is=function(e){return e instanceof G||"object"==typeof e&&null!==e&&"function"==typeof e.next};var D=G,F={};F.ARRAY_BUFFER_SUPPORT="undefined"!=typeof ArrayBuffer,F.SYMBOL_SUPPORT="undefined"!=typeof Symbol;var T=D,M=F,P=M.ARRAY_BUFFER_SUPPORT,N=M.SYMBOL_SUPPORT,j=function(e){var t=function(e){return"string"==typeof e||Array.isArray(e)||P&&ArrayBuffer.isView(e)?T.fromSequence(e):"object"!=typeof e||null===e?null:N&&"function"==typeof e[Symbol.iterator]?e[Symbol.iterator]():"function"==typeof e.next?e:null}(e);if(!t)throw new Error("obliterator: target is not iterable nor a valid iterator.");return t},z=j,U=function(e,t){for(var n,r=arguments.length>1?t:1/0,i=r!==1/0?new Array(r):[],o=0,a=z(e);;){if(o===r)return i;if((n=a.next()).done)return o!==t&&(i.length=o),i;i[o++]=n.value}},I=function(e){function n(t){var n;return(n=e.call(this)||this).name="GraphError",n.message=t,n}return t(n,e),n}(a(Error)),B=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="InvalidArgumentsGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return t(n,e),n}(I),W=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="NotFoundGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return t(n,e),n}(I),H=function(e){function n(t){var r;return(r=e.call(this,t)||this).name="UsageGraphError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(c(r),n.prototype.constructor),r}return t(n,e),n}(I);function V(e,t){this.key=e,this.attributes=t,this.clear()}function q(e,t){this.key=e,this.attributes=t,this.clear()}function Y(e,t){this.key=e,this.attributes=t,this.clear()}function K(e,t,n,r,i){this.key=t,this.attributes=i,this.undirected=e,this.source=n,this.target=r}function X(e,t,n,r,i,o,a){var c,u,h,s;if(r=""+r,0===n){if(!(c=e._nodes.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" node in the graph.'));h=i,s=o}else if(3===n){if(i=""+i,!(u=e._edges.get(i)))throw new W("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var d=u.source.key,p=u.target.key;if(r===d)c=u.target;else{if(r!==p)throw new W("Graph.".concat(t,': the "').concat(r,'" node is not attached to the "').concat(i,'" edge (').concat(d,", ").concat(p,")."));c=u.source}h=o,s=a}else{if(!(u=e._edges.get(r)))throw new W("Graph.".concat(t,': could not find the "').concat(r,'" edge in the graph.'));c=1===n?u.source:u.target,h=i,s=o}return[c,h,s]}V.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}},q.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}},Y.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}},K.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var n=this.source.key,r=this.target.key;this.source[e][r]=this,this.undirected&&n===r||(this.target[t][n]=this)},K.prototype.attachMulti=function(){var e="out",t="in",n=this.source.key,r=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],o=i[r];if(void 0===o)return i[r]=this,void(this.undirected&&n===r||(this.target[t][n]=this));o.previous=this,this.next=o,i[r]=this,this.target[t][n]=this},K.prototype.detach=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),delete this.source[n][t],delete this.target[r][e]},K.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,n="out",r="in";this.undirected&&(n=r="undirected"),void 0===this.previous?void 0===this.next?(delete this.source[n][t],delete this.target[r][e]):(this.next.previous=void 0,this.source[n][t]=this.next,this.target[r][e]=this.next):(this.previous.next=this.next,void 0!==this.next&&(this.next.previous=this.previous))};var Q=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];return a.attributes[c]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){return X(this,t,n,e,r)[0].attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];return a.attributes.hasOwnProperty(c)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=X(this,t,n,e,r,i,o),c=a[0],u=a[1],h=a[2];return c.attributes[u]=h,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:u}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i,o){var a=X(this,t,n,e,r,i,o),c=a[0],u=a[1],h=a[2];if("function"!=typeof h)throw new B("Graph.".concat(t,": updater should be a function."));var s=c.attributes,d=h(s[u]);return s[u]=d,this.emit("nodeAttributesUpdated",{key:c.key,type:"set",attributes:c.attributes,name:u}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];return delete a.attributes[c],this.emit("nodeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:c}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];if(!s(c))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=c,this.emit("nodeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];if(!s(c))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return u(a.attributes,c),this.emit("nodeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:c}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o=X(this,t,n,e,r,i),a=o[0],c=o[1];if("function"!=typeof c)throw new B("Graph.".concat(t,": provided updater is not a function."));return a.attributes=c(a.attributes),this.emit("nodeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}}],Z=[{name:function(e){return"get".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes[r]}}},{name:function(e){return"get".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e){var r;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var i=""+e,o=""+arguments[1];if(!(r=h(this,i,o,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(i,'" - "').concat(o,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(r=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return r.attributes}}},{name:function(e){return"has".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return i.attributes.hasOwnProperty(r)}}},{name:function(e){return"set".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,c=""+r;if(r=arguments[2],i=arguments[3],!(o=h(this,a,c,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(c,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return o.attributes[r]=i,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"update".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r,i){var o;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+e,c=""+r;if(r=arguments[2],i=arguments[3],!(o=h(this,a,c,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(c,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(o=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof i)throw new B("Graph.".concat(t,": updater should be a function."));return o.attributes[r]=i(o.attributes[r]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:r}),this}}},{name:function(e){return"remove".concat(e,"Attribute")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}return delete i.attributes[r],this.emit("edgeAttributesUpdated",{key:i.key,type:"remove",attributes:i.attributes,name:r}),this}}},{name:function(e){return"replace".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!s(r))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return i.attributes=r,this.emit("edgeAttributesUpdated",{key:i.key,type:"replace",attributes:i.attributes}),this}}},{name:function(e){return"merge".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if(!s(r))throw new B("Graph.".concat(t,": provided attributes are not a plain object."));return u(i.attributes,r),this.emit("edgeAttributesUpdated",{key:i.key,type:"merge",attributes:i.attributes,data:r}),this}}},{name:function(e){return"update".concat(e,"Attributes")},attacher:function(e,t,n){e.prototype[t]=function(e,r){var i;if("mixed"!==this.type&&"mixed"!==n&&n!==this.type)throw new H("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new H("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var o=""+e,a=""+r;if(r=arguments[2],!(i=h(this,o,a,n)))throw new W("Graph.".concat(t,': could not find an edge for the given path ("').concat(o,'" - "').concat(a,'").'))}else{if("mixed"!==n)throw new H("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(e=""+e,!(i=this._edges.get(e)))throw new W("Graph.".concat(t,': could not find the "').concat(e,'" edge in the graph.'))}if("function"!=typeof r)throw new B("Graph.".concat(t,": provided updater is not a function."));return i.attributes=r(i.attributes),this.emit("edgeAttributesUpdated",{key:i.key,type:"update",attributes:i.attributes}),this}}}],J=D,$=j,ee=function(){var e=arguments,t=null,n=-1;return new J((function(){for(var r=null;;){if(null===t){if(++n>=e.length)return{done:!0};t=$(e[n])}if(!0!==(r=t.next()).done)break;t=null}return r}))},te=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function ne(e,t,n,r){var i=!1;for(var o in t)if(o!==r){var a=t[o];if(i=n(a.key,a.attributes,a.source.key,a.target.key,a.source.attributes,a.target.attributes,a.undirected),e&&i)return a.key}}function rt(e,t,n,r){var i,o,a,c=!1;for(var u in t)if(u!==r){i=t[u];do{if(o=i.source,a=i.target,c=n(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected),e&&c)return i.key;i=i.next}while(void 0!==i)}}function re(e,t){var n,r=Object.keys(e),i=r.length,o=0;return new D((function(){do{if(n)n=n.next;else{if(o>=i)return{done:!0};var a=r[o++];if(a===t){n=void 0;continue}n=e[a]}}while(!n);return{done:!1,value:{edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected}}}))}function ie(e,t,n,r){var i=t[n];if(i){var o=i.source,a=i.target;return r(i.key,i.attributes,o.key,a.key,o.attributes,a.attributes,i.undirected)&&e?i.key:void 0}}function oe(e,t,n,r){var i=t[n];if(i){var o=!1;do{if(o=r(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&o)return i.key;i=i.next}while(void 0!==i)}}function ae(e,t){var n=e[t];return void 0!==n.next?new D((function(){if(!n)return{done:!0};var e={edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected};return n=n.next,{done:!1,value:e}})):D.of({edge:n.key,attributes:n.attributes,source:n.source.key,target:n.target.key,sourceAttributes:n.source.attributes,targetAttributes:n.target.attributes,undirected:n.undirected})}function se(e,t){if(0===e.size)return[];if("mixed"===t||t===e.type)return"function"==typeof Array.from?Array.from(e._edges.keys()):U(e._edges.keys(),e._edges.size);for(var n,r,i="undirected"===t?e.undirectedSize:e.directedSize,o=new Array(i),a="undirected"===t,c=e._edges.values(),u=0;!0!==(n=c.next()).done;)(r=n.value).undirected===a&&(o[u++]=r.key);return o}function dt(e,t,n,r){if(0!==t.size)for(var i,o,a="mixed"!==n&&n!==t.type,c="undirected"===n,u=!1,h=t._edges.values();!0!==(i=h.next()).done;)if(o=i.value,!a||o.undirected===c){var s=o,d=s.key,p=s.attributes,l=s.source,f=s.target;if(u=r(d,p,l.key,f.key,l.attributes,f.attributes,o.undirected),e&&u)return d}}function ue(e,t){if(0===e.size)return D.empty();var n="mixed"!==t&&t!==e.type,r="undirected"===t,i=e._edges.values();return new D((function(){for(var e,t;;){if((e=i.next()).done)return e;if(t=e.value,!n||t.undirected===r)break}return{value:{edge:t.key,attributes:t.attributes,source:t.source.key,target:t.target.key,sourceAttributes:t.source.attributes,targetAttributes:t.target.attributes,undirected:t.undirected},done:!1}}))}function ce(e,t,n,r,i,o){var a,c=t?rt:ne;if("undirected"!==n){if("out"!==r&&(a=c(e,i.in,o),e&&a))return a;if("in"!==r&&(a=c(e,i.out,o,r?void 0:i.key),e&&a))return a}if("directed"!==n&&(a=c(e,i.undirected,o),e&&a))return a}function he(e,t,n,r){var i=[];return ce(!1,e,t,n,r,(function(e){i.push(e)})),i}function de(e,t,n){var r=D.empty();return"undirected"!==e&&("out"!==t&&void 0!==n.in&&(r=ee(r,re(n.in))),"in"!==t&&void 0!==n.out&&(r=ee(r,re(n.out,t?void 0:n.key)))),"directed"!==e&&void 0!==n.undirected&&(r=ee(r,re(n.undirected))),r}function le(e,t,n,r,i,o,a){var c,u=n?oe:ie;if("undirected"!==t){if(void 0!==i.in&&"out"!==r&&(c=u(e,i.in,o,a),e&&c))return c;if(void 0!==i.out&&"in"!==r&&(r||i.key!==o)&&(c=u(e,i.out,o,a),e&&c))return c}if("directed"!==t&&void 0!==i.undirected&&(c=u(e,i.undirected,o,a),e&&c))return c}function fe(e,t,n,r,i){var o=[];return le(!1,e,t,n,r,i,(function(e){o.push(e)})),o}function pe(e,t,n,r){var i=D.empty();return"undirected"!==e&&(void 0!==n.in&&"out"!==t&&r in n.in&&(i=ee(i,ae(n.in,r))),void 0!==n.out&&"in"!==t&&r in n.out&&(t||n.key!==r)&&(i=ee(i,ae(n.out,r)))),"directed"!==e&&void 0!==n.undirected&&r in n.undirected&&(i=ee(i,ae(n.undirected,r))),i}var ge=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function ye(){this.A=null,this.B=null}function ve(e,t,n,r,i){for(var o in r){var a=r[o],c=a.source,u=a.target,h=c===n?u:c;if(!t||!t.has(h.key)){var s=i(h.key,h.attributes);if(e&&s)return h.key}}}function me(e,t,n,r,i){if("mixed"!==t){if("undirected"===t)return ve(e,null,r,r.undirected,i);if("string"==typeof n)return ve(e,null,r,r[n],i)}var o,a=new ye;if("undirected"!==t){if("out"!==n){if(o=ve(e,null,r,r.in,i),e&&o)return o;a.wrap(r.in)}if("in"!==n){if(o=ve(e,a,r,r.out,i),e&&o)return o;a.wrap(r.out)}}if("directed"!==t&&(o=ve(e,a,r,r.undirected,i),e&&o))return o}function be(e,t,n){var r=Object.keys(n),i=r.length,o=0;return new D((function(){var a=null;do{if(o>=i)return e&&e.wrap(n),{done:!0};var c=n[r[o++]],u=c.source,h=c.target;a=u===t?h:u,e&&e.has(a.key)&&(a=null)}while(null===a);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}}))}function we(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return Object.keys(n.undirected);if("string"==typeof t)return Object.keys(n[t])}var r=[];return me(!1,e,t,n,(function(e){r.push(e)})),r}("mixed"===r?this.type:r,i,t)}}function _e(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return D.empty();e=""+e;var t=this._nodes.get(e);if(void 0===t)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return function(e,t,n){if("mixed"!==e){if("undirected"===e)return be(null,n,n.undirected);if("string"==typeof t)return be(null,n,n[t])}var r=D.empty(),i=new ye;return"undirected"!==e&&("out"!==t&&(r=ee(r,be(i,n,n.in))),"in"!==t&&(r=ee(r,be(i,n,n.out)))),"directed"!==e&&(r=ee(r,be(i,n,n.undirected))),r}("mixed"===r?this.type:r,i,t)}}function xe(e,t,n,r,i){for(var o,a,c,u,h,s,d,p=r._nodes.values(),l=r.type;!0!==(o=p.next()).done;){var f=!1;if(a=o.value,"undirected"!==l)for(c in u=a.out){h=u[c];do{if(s=h.target,f=!0,d=i(a.key,s.key,a.attributes,s.attributes,h.key,h.attributes,h.undirected),e&&d)return h;h=h.next}while(h)}if("directed"!==l)for(c in u=a.undirected)if(!(t&&a.key>c)){h=u[c];do{if((s=h.target).key!==c&&(s=h.source),f=!0,d=i(a.key,s.key,a.attributes,s.attributes,h.key,h.attributes,h.undirected),e&&d)return h;h=h.next}while(h)}if(n&&!f&&(d=i(a.key,null,a.attributes,null,null,null,null),e&&d))return null}}function Ee(e){if(!s(e))throw new B('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new B("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!s(e.attributes)||null===e.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function Se(e){if(!s(e))throw new B('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new B("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new B("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!s(e.attributes)||null===e.attributes))throw new B("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&"boolean"!=typeof e.undirected)throw new B("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}ye.prototype.wrap=function(e){null===this.A?this.A=e:null===this.B&&(this.B=e)},ye.prototype.has=function(e){return null!==this.A&&e in this.A||null!==this.B&&e in this.B};var Le,Ce=(Le=255&Math.floor(256*Math.random()),function(){return Le++}),Ae=new Set(["directed","undirected","mixed"]),ke=new Set(["domain","_events","_eventsCount","_maxListeners"]),Oe={allowSelfLoops:!0,multi:!1,type:"mixed"};function Re(e,t,n){var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}function Ge(e,t,n,r,i,o,a,c){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(c&&!s(c))throw new B("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(c,'"'));if(o=""+o,a=""+a,c=c||{},!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var u=e._nodes.get(o),h=e._nodes.get(a);if(!u)throw new W("Graph.".concat(t,': source node "').concat(o,'" not found.'));if(!h)throw new W("Graph.".concat(t,': target node "').concat(a,'" not found.'));var d={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(r?void 0!==u.undirected[a]:void 0!==u.out[a]))throw new H("Graph.".concat(t,': an edge linking "').concat(o,'" to "').concat(a,"\" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option."));var p=new K(r,i,u,h,c);e._edges.set(i,p);var l=o===a;return r?(u.undirectedDegree++,h.undirectedDegree++,l&&(u.undirectedLoops++,e._undirectedSelfLoopCount++)):(u.outDegree++,h.inDegree++,l&&(u.directedLoops++,e._directedSelfLoopCount++)),e.multi?p.attachMulti():p.attach(),r?e._undirectedSize++:e._directedSize++,d.key=i,e.emit("edgeAdded",d),i}function De(e,t,n,r,i,o,a,c,h){if(!r&&"undirected"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(r&&"directed"===e.type)throw new H("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(c)if(h){if("function"!=typeof c)throw new B("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(c,'"'))}else if(!s(c))throw new B("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(c,'"'));var d;if(o=""+o,a=""+a,h&&(d=c,c=void 0),!e.allowSelfLoops&&o===a)throw new H("Graph.".concat(t,': source & target are the same ("').concat(o,"\"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false."));var p,l,f=e._nodes.get(o),g=e._nodes.get(a);if(!n&&(p=e._edges.get(i))){if(!(p.source.key===o&&p.target.key===a||r&&p.source.key===a&&p.target.key===o))throw new H("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(o,'" source & "').concat(a,'" target vs. ("').concat(p.source.key,'", "').concat(p.target.key,'").'));l=p}if(l||e.multi||!f||(l=r?f.undirected[a]:f.out[a]),l){var y=[l.key,!1,!1,!1];if(h?!d:!c)return y;if(h){var v=l.attributes;l.attributes=d(v),e.emit("edgeAttributesUpdated",{type:"replace",key:l.key,attributes:l.attributes})}else u(l.attributes,c),e.emit("edgeAttributesUpdated",{type:"merge",key:l.key,attributes:l.attributes,data:c});return y}c=c||{},h&&d&&(c=d(c));var m={key:null,undirected:r,source:o,target:a,attributes:c};if(n)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new H("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var b=!1,w=!1;f||(f=Re(e,o,{}),b=!0,o===a&&(g=f,w=!0)),g||(g=Re(e,a,{}),w=!0),p=new K(r,i,f,g,c),e._edges.set(i,p);var _=o===a;return r?(f.undirectedDegree++,g.undirectedDegree++,_&&(f.undirectedLoops++,e._undirectedSelfLoopCount++)):(f.outDegree++,g.inDegree++,_&&(f.directedLoops++,e._directedSelfLoopCount++)),e.multi?p.attachMulti():p.attach(),r?e._undirectedSize++:e._directedSize++,m.key=i,e.emit("edgeAdded",m),[i,!0,b,w]}function Fe(e,t){e._edges.delete(t.key);var n=t.source,r=t.target,i=t.attributes,o=t.undirected,a=n===r;o?(n.undirectedDegree--,r.undirectedDegree--,a&&(n.undirectedLoops--,e._undirectedSelfLoopCount--)):(n.outDegree--,r.inDegree--,a&&(n.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),o?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:n.key,target:r.key,undirected:o})}var Te=function(n){function r(e){var t;if(t=n.call(this)||this,"boolean"!=typeof(e=u({},Oe,e)).multi)throw new B("Graph.constructor: invalid 'multi' option. Expecting a boolean but got \"".concat(e.multi,'".'));if(!Ae.has(e.type))throw new B('Graph.constructor: invalid \'type\' option. Should be one of "mixed", "directed" or "undirected" but got "'.concat(e.type,'".'));if("boolean"!=typeof e.allowSelfLoops)throw new B("Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got \"".concat(e.allowSelfLoops,'".'));var r="mixed"===e.type?V:"directed"===e.type?q:Y;p(c(t),"NodeDataClass",r);var i="geid_"+Ce()+"_",o=0;return p(c(t),"_attributes",{}),p(c(t),"_nodes",new Map),p(c(t),"_edges",new Map),p(c(t),"_directedSize",0),p(c(t),"_undirectedSize",0),p(c(t),"_directedSelfLoopCount",0),p(c(t),"_undirectedSelfLoopCount",0),p(c(t),"_edgeKeyGenerator",(function(){var e;do{e=i+o++}while(t._edges.has(e));return e})),p(c(t),"_options",e),ke.forEach((function(e){return p(c(t),e,t[e])})),l(c(t),"order",(function(){return t._nodes.size})),l(c(t),"size",(function(){return t._edges.size})),l(c(t),"directedSize",(function(){return t._directedSize})),l(c(t),"undirectedSize",(function(){return t._undirectedSize})),l(c(t),"selfLoopCount",(function(){return t._directedSelfLoopCount+t._undirectedSelfLoopCount})),l(c(t),"directedSelfLoopCount",(function(){return t._directedSelfLoopCount})),l(c(t),"undirectedSelfLoopCount",(function(){return t._undirectedSelfLoopCount})),l(c(t),"multi",t._options.multi),l(c(t),"type",t._options.type),l(c(t),"allowSelfLoops",t._options.allowSelfLoops),l(c(t),"implementation",(function(){return"graphology"})),t}t(r,n);var i=r.prototype;return i._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},i.hasNode=function(e){return this._nodes.has(""+e)},i.hasDirectedEdge=function(e,t){if("undirected"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&!r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.out.hasOwnProperty(t)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasUndirectedEdge=function(e,t){if("directed"===this.type)return!1;if(1===arguments.length){var n=""+e,r=this._edges.get(n);return!!r&&r.undirected}if(2===arguments.length){e=""+e,t=""+t;var i=this._nodes.get(e);return!!i&&i.undirected.hasOwnProperty(t)}throw new B("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.hasEdge=function(e,t){if(1===arguments.length){var n=""+e;return this._edges.has(n)}if(2===arguments.length){e=""+e,t=""+t;var r=this._nodes.get(e);return!!r&&(void 0!==r.out&&r.out.hasOwnProperty(t)||void 0!==r.undirected&&r.undirected.hasOwnProperty(t))}throw new B("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},i.directedEdge=function(e,t){if("undirected"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.directedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.directedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||void 0;return r?r.key:void 0}},i.undirectedEdge=function(e,t){if("directed"!==this.type){if(e=""+e,t=""+t,this.multi)throw new H("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var n=this._nodes.get(e);if(!n)throw new W('Graph.undirectedEdge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.undirectedEdge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.undirected&&n.undirected[t]||void 0;return r?r.key:void 0}},i.edge=function(e,t){if(this.multi)throw new H("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.edge: could not find the "'.concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W('Graph.edge: could not find the "'.concat(t,'" target node in the graph.'));var r=n.out&&n.out[t]||n.undirected&&n.undirected[t]||void 0;if(r)return r.key},i.areDirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areDirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)},i.areOutNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out},i.areInNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in},i.areUndirectedNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areUndirectedNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"directed"!==this.type&&t in n.undirected},i.areNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&(t in n.in||t in n.out)||"directed"!==this.type&&t in n.undirected},i.areInboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areInboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.in||"directed"!==this.type&&t in n.undirected},i.areOutboundNeighbors=function(e,t){e=""+e,t=""+t;var n=this._nodes.get(e);if(!n)throw new W('Graph.areOutboundNeighbors: could not find the "'.concat(e,'" node in the graph.'));return"undirected"!==this.type&&t in n.out||"directed"!==this.type&&t in n.undirected},i.inDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree},i.outDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree},i.directedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegree: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree},i.undirectedDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegree: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree},i.inboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree),n},i.outboundDegree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.outDegree),n},i.degree=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degree: could not find the "'.concat(e,'" node in the graph.'));var n=0;return"directed"!==this.type&&(n+=t.undirectedDegree),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree),n},i.inDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree-t.directedLoops},i.outDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.outDegree-t.directedLoops},i.directedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"undirected"===this.type?0:t.inDegree+t.outDegree-2*t.directedLoops},i.undirectedDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));return"directed"===this.type?0:t.undirectedDegree-2*t.undirectedLoops},i.inboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree,r+=t.directedLoops),n-r},i.outboundDegreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.outDegree,r+=t.directedLoops),n-r},i.degreeWithoutSelfLoops=function(e){e=""+e;var t=this._nodes.get(e);if(!t)throw new W('Graph.degreeWithoutSelfLoops: could not find the "'.concat(e,'" node in the graph.'));var n=0,r=0;return"directed"!==this.type&&(n+=t.undirectedDegree,r+=2*t.undirectedLoops),"undirected"!==this.type&&(n+=t.inDegree+t.outDegree,r+=2*t.directedLoops),n-r},i.source=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.source: could not find the "'.concat(e,'" edge in the graph.'));return t.source.key},i.target=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.target: could not find the "'.concat(e,'" edge in the graph.'));return t.target.key},i.extremities=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.extremities: could not find the "'.concat(e,'" edge in the graph.'));return[t.source.key,t.target.key]},i.opposite=function(e,t){e=""+e,t=""+t;var n=this._edges.get(t);if(!n)throw new W('Graph.opposite: could not find the "'.concat(t,'" edge in the graph.'));var r=n.source.key,i=n.target.key;if(e===r)return i;if(e===i)return r;throw new W('Graph.opposite: the "'.concat(e,'" node is not attached to the "').concat(t,'" edge (').concat(r,", ").concat(i,")."))},i.hasExtremity=function(e,t){e=""+e,t=""+t;var n=this._edges.get(e);if(!n)throw new W('Graph.hasExtremity: could not find the "'.concat(e,'" edge in the graph.'));return n.source.key===t||n.target.key===t},i.isUndirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isUndirected: could not find the "'.concat(e,'" edge in the graph.'));return t.undirected},i.isDirected=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isDirected: could not find the "'.concat(e,'" edge in the graph.'));return!t.undirected},i.isSelfLoop=function(e){e=""+e;var t=this._edges.get(e);if(!t)throw new W('Graph.isSelfLoop: could not find the "'.concat(e,'" edge in the graph.'));return t.source===t.target},i.addNode=function(e,t){var n=function(e,t,n){if(n&&!s(n))throw new B('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(n,'"'));if(t=""+t,n=n||{},e._nodes.has(t))throw new H('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var r=new e.NodeDataClass(t,n);return e._nodes.set(t,r),e.emit("nodeAdded",{key:t,attributes:n}),r}(this,e,t);return n.key},i.mergeNode=function(e,t){if(t&&!s(t))throw new B('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(t,'"'));e=""+e,t=t||{};var n=this._nodes.get(e);return n?(t&&(u(n.attributes,t),this.emit("nodeAttributesUpdated",{type:"merge",key:e,attributes:n.attributes,data:t})),[e,!1]):(n=new this.NodeDataClass(e,t),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:t}),[e,!0])},i.updateNode=function(e,t){if(t&&"function"!=typeof t)throw new B('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(t,'"'));e=""+e;var n=this._nodes.get(e);if(n){if(t){var r=n.attributes;n.attributes=t(r),this.emit("nodeAttributesUpdated",{type:"replace",key:e,attributes:n.attributes})}return[e,!1]}var i=t?t({}):{};return n=new this.NodeDataClass(e,i),this._nodes.set(e,n),this.emit("nodeAdded",{key:e,attributes:i}),[e,!0]},i.dropNode=function(e){e=""+e;var t,n=this._nodes.get(e);if(!n)throw new W('Graph.dropNode: could not find the "'.concat(e,'" node in the graph.'));if("undirected"!==this.type){for(var r in n.out){t=n.out[r];do{Fe(this,t),t=t.next}while(t)}for(var i in n.in){t=n.in[i];do{Fe(this,t),t=t.next}while(t)}}if("directed"!==this.type)for(var o in n.undirected){t=n.undirected[o];do{Fe(this,t),t=t.next}while(t)}this._nodes.delete(e),this.emit("nodeDropped",{key:e,attributes:n.attributes})},i.dropEdge=function(e){var t;if(arguments.length>1){var n=""+arguments[0],r=""+arguments[1];if(!(t=h(this,n,r,this.type)))throw new W('Graph.dropEdge: could not find the "'.concat(n,'" -> "').concat(r,'" edge in the graph.'))}else if(e=""+e,!(t=this._edges.get(e)))throw new W('Graph.dropEdge: could not find the "'.concat(e,'" edge in the graph.'));return Fe(this,t),this},i.dropDirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=h(this,e=""+e,t=""+t,"directed");if(!n)throw new W('Graph.dropDirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Fe(this,n),this},i.dropUndirectedEdge=function(e,t){if(arguments.length<2)throw new H("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new H("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var n=h(this,e,t,"undirected");if(!n)throw new W('Graph.dropUndirectedEdge: could not find a "'.concat(e,'" -> "').concat(t,'" edge in the graph.'));return Fe(this,n),this},i.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},i.clearEdges=function(){for(var e,t=this._nodes.values();!0!==(e=t.next()).done;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},i.getAttribute=function(e){return this._attributes[e]},i.getAttributes=function(){return this._attributes},i.hasAttribute=function(e){return this._attributes.hasOwnProperty(e)},i.setAttribute=function(e,t){return this._attributes[e]=t,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.updateAttribute=function(e,t){if("function"!=typeof t)throw new B("Graph.updateAttribute: updater should be a function.");var n=this._attributes[e];return this._attributes[e]=t(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:e}),this},i.removeAttribute=function(e){return delete this._attributes[e],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:e}),this},i.replaceAttributes=function(e){if(!s(e))throw new B("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=e,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},i.mergeAttributes=function(e){if(!s(e))throw new B("Graph.mergeAttributes: provided attributes are not a plain object.");return u(this._attributes,e),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:e}),this},i.updateAttributes=function(e){if("function"!=typeof e)throw new B("Graph.updateAttributes: provided updater is not a function.");return this._attributes=e(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},i.updateEachNodeAttributes=function(e,t){if("function"!=typeof e)throw new B("Graph.updateEachNodeAttributes: expecting an updater function.");if(t&&!f(t))throw new B("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i=this._nodes.values();!0!==(n=i.next()).done;)(r=n.value).attributes=e(r.key,r.attributes);this.emit("eachNodeAttributesUpdated",{hints:t||null})},i.updateEachEdgeAttributes=function(e,t){if("function"!=typeof e)throw new B("Graph.updateEachEdgeAttributes: expecting an updater function.");if(t&&!f(t))throw new B("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var n,r,i,o,a=this._edges.values();!0!==(n=a.next()).done;)i=(r=n.value).source,o=r.target,r.attributes=e(r.key,r.attributes,i.key,o.key,i.attributes,o.attributes,r.undirected);this.emit("eachEdgeAttributesUpdated",{hints:t||null})},i.forEachAdjacencyEntry=function(e){if("function"!=typeof e)throw new B("Graph.forEachAdjacencyEntry: expecting a callback.");xe(!1,!1,!1,this,e)},i.forEachAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new B("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");xe(!1,!1,!0,this,e)},i.forEachAssymetricAdjacencyEntry=function(e){if("function"!=typeof e)throw new B("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");xe(!1,!0,!1,this,e)},i.forEachAssymetricAdjacencyEntryWithOrphans=function(e){if("function"!=typeof e)throw new B("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");xe(!1,!0,!0,this,e)},i.nodes=function(){return"function"==typeof Array.from?Array.from(this._nodes.keys()):U(this._nodes.keys(),this._nodes.size)},i.forEachNode=function(e){if("function"!=typeof e)throw new B("Graph.forEachNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)},i.findNode=function(e){if("function"!=typeof e)throw new B("Graph.findNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return n.key},i.mapNodes=function(e){if("function"!=typeof e)throw new B("Graph.mapNode: expecting a callback.");for(var t,n,r=this._nodes.values(),i=new Array(this.order),o=0;!0!==(t=r.next()).done;)n=t.value,i[o++]=e(n.key,n.attributes);return i},i.someNode=function(e){if("function"!=typeof e)throw new B("Graph.someNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(e((n=t.value).key,n.attributes))return!0;return!1},i.everyNode=function(e){if("function"!=typeof e)throw new B("Graph.everyNode: expecting a callback.");for(var t,n,r=this._nodes.values();!0!==(t=r.next()).done;)if(!e((n=t.value).key,n.attributes))return!1;return!0},i.filterNodes=function(e){if("function"!=typeof e)throw new B("Graph.filterNodes: expecting a callback.");for(var t,n,r=this._nodes.values(),i=[];!0!==(t=r.next()).done;)e((n=t.value).key,n.attributes)&&i.push(n.key);return i},i.reduceNodes=function(e,t){if("function"!=typeof e)throw new B("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new B("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var n,r,i=t,o=this._nodes.values();!0!==(n=o.next()).done;)i=e(i,(r=n.value).key,r.attributes);return i},i.nodeEntries=function(){var e=this._nodes.values();return new D((function(){var t=e.next();if(t.done)return t;var n=t.value;return{value:{node:n.key,attributes:n.attributes},done:!1}}))},i.export=function(){var e=this,t=new Array(this._nodes.size),n=0;this._nodes.forEach((function(e,r){t[n++]=function(e,t){var n={key:e};return d(t.attributes)||(n.attributes=u({},t.attributes)),n}(r,e)}));var r=new Array(this._edges.size);return n=0,this._edges.forEach((function(t,i){r[n++]=function(e,t,n){var r={key:t,source:n.source.key,target:n.target.key};return d(n.attributes)||(r.attributes=u({},n.attributes)),"mixed"===e&&n.undirected&&(r.undirected=!0),r}(e.type,i,t)})),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:r}},i.import=function(e){var t,n,i,o,a,c=this,u=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e instanceof r)return e.forEachNode((function(e,t){u?c.mergeNode(e,t):c.addNode(e,t)})),e.forEachEdge((function(e,t,n,r,i,o,a){u?a?c.mergeUndirectedEdgeWithKey(e,n,r,t):c.mergeDirectedEdgeWithKey(e,n,r,t):a?c.addUndirectedEdgeWithKey(e,n,r,t):c.addDirectedEdgeWithKey(e,n,r,t)})),this;if(!s(e))throw new B("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(e.attributes){if(!s(e.attributes))throw new B("Graph.import: invalid attributes. Expecting a plain object.");u?this.mergeAttributes(e.attributes):this.replaceAttributes(e.attributes)}if(e.nodes){if(i=e.nodes,!Array.isArray(i))throw new B("Graph.import: invalid nodes. Expecting an array.");for(t=0,n=i.length;t<n;t++){Ee(o=i[t]);var h=o,d=h.key,p=h.attributes;u?this.mergeNode(d,p):this.addNode(d,p)}}if(e.edges){var l=!1;if("undirected"===this.type&&(l=!0),i=e.edges,!Array.isArray(i))throw new B("Graph.import: invalid edges. Expecting an array.");for(t=0,n=i.length;t<n;t++){Se(a=i[t]);var f=a,g=f.source,y=f.target,v=f.attributes,m=f.undirected,b=void 0===m?l:m;"key"in a?(u?b?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:b?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey).call(this,a.key,g,y,v):(u?b?this.mergeUndirectedEdge:this.mergeDirectedEdge:b?this.addUndirectedEdge:this.addDirectedEdge).call(this,g,y,v)}}return this},i.nullCopy=function(e){var t=new r(u({},this._options,e));return t.replaceAttributes(u({},this.getAttributes())),t},i.emptyCopy=function(e){var t=this.nullCopy(e);return this._nodes.forEach((function(e,n){var r=u({},e.attributes);e=new t.NodeDataClass(n,r),t._nodes.set(n,e)})),t},i.copy=function(e){if("string"==typeof(e=e||{}).type&&e.type!==this.type&&"mixed"!==e.type)throw new H('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(e.type,'" because this would mean losing information about the current graph.'));if("boolean"==typeof e.multi&&e.multi!==this.multi&&!0!==e.multi)throw new H("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if("boolean"==typeof e.allowSelfLoops&&e.allowSelfLoops!==this.allowSelfLoops&&!0!==e.allowSelfLoops)throw new H("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var t,n,r=this.emptyCopy(e),i=this._edges.values();!0!==(t=i.next()).done;)Ge(r,"copy",!1,(n=t.value).undirected,n.key,n.source.key,n.target.key,u({},n.attributes));return r},i.toJSON=function(){return this.export()},i.toString=function(){return"[object Graph]"},i.inspect=function(){var t=this,n={};this._nodes.forEach((function(e,t){n[t]=e.attributes}));var r={},i={};this._edges.forEach((function(e,n){var o,a=e.undirected?"--":"->",c="",u=e.source.key,h=e.target.key;e.undirected&&u>h&&(o=u,u=h,h=o);var s="(".concat(u,")").concat(a,"(").concat(h,")");n.startsWith("geid_")?t.multi&&(void 0===i[s]?i[s]=0:i[s]++,c+="".concat(i[s],". ")):c+="[".concat(n,"]: "),r[c+=s]=e.attributes}));var o={};for(var a in this)this.hasOwnProperty(a)&&!ke.has(a)&&"function"!=typeof this[a]&&"symbol"!==e(a)&&(o[a]=this[a]);return o.attributes=this._attributes,o.nodes=n,o.edges=r,p(o,"constructor",this.constructor),o},r}(y.exports.EventEmitter);"undefined"!=typeof Symbol&&(Te.prototype[Symbol.for("nodejs.util.inspect.custom")]=Te.prototype.inspect),[{name:function(e){return"".concat(e,"Edge")},generateKey:!0},{name:function(e){return"".concat(e,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(e){return"".concat(e,"EdgeWithKey")}},{name:function(e){return"".concat(e,"DirectedEdgeWithKey")},type:"directed"},{name:function(e){return"".concat(e,"UndirectedEdgeWithKey")},type:"undirected"}].forEach((function(e){["add","merge","update"].forEach((function(t){var n=e.name(t),r="add"===t?Ge:De;e.generateKey?Te.prototype[n]=function(i,o,a){return r(this,n,!0,"undirected"===(e.type||this.type),null,i,o,a,"update"===t)}:Te.prototype[n]=function(i,o,a,c){return r(this,n,!1,"undirected"===(e.type||this.type),i,o,a,c,"update"===t)}}))})),function(e){Q.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Node"),0),r(e,n("Source"),1),r(e,n("Target"),2),r(e,n("Opposite"),3)}))}(Te),function(e){Z.forEach((function(t){var n=t.name,r=t.attacher;r(e,n("Edge"),"mixed"),r(e,n("DirectedEdge"),"directed"),r(e,n("UndirectedEdge"),"undirected")}))}(Te),function(e){te.forEach((function(t){!function(e,t){var n=t.name,r=t.type,i=t.direction;e.prototype[n]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return[];if(!arguments.length)return se(this,r);if(1===arguments.length){e=""+e;var o=this._nodes.get(e);if(void 0===o)throw new W("Graph.".concat(n,': could not find the "').concat(e,'" node in the graph.'));return he(this.multi,"mixed"===r?this.type:r,i,o)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(n,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(n,':  could not find the "').concat(t,'" target node in the graph.'));return fe(r,this.multi,i,a,t)}throw new B("Graph.".concat(n,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"===r||"mixed"===this.type||r===this.type){if(1===arguments.length)return dt(!1,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return ce(!1,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var c=this._nodes.get(e);if(!c)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return le(!1,r,this.multi,i,c,t,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(){var e,t=Array.prototype.slice.call(arguments),n=t.pop();if(0===t.length){var i=0;"directed"!==r&&(i+=this.undirectedSize),"undirected"!==r&&(i+=this.directedSize),e=new Array(i);var a=0;t.push((function(t,r,i,o,c,u,h){e[a++]=n(t,r,i,o,c,u,h)}))}else e=[],t.push((function(t,r,i,o,a,c,u){e.push(n(t,r,i,o,a,c,u))}));return this[o].apply(this,t),e};var c="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[c]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop(),n=[];return e.push((function(e,r,i,o,a,c,u){t(e,r,i,o,a,c,u)&&n.push(e)})),this[o].apply(this,e),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(){var e,t,n=Array.prototype.slice.call(arguments);if(n.length<2||n.length>4)throw new B("Graph.".concat(u,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(n.length,")."));if("function"==typeof n[n.length-1]&&"function"!=typeof n[n.length-2])throw new B("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));2===n.length?(e=n[0],t=n[1],n=[]):3===n.length?(e=n[1],t=n[2],n=[n[0]]):4===n.length&&(e=n[2],t=n[3],n=[n[0],n[1]]);var r=t;return n.push((function(t,n,i,o,a,c,u){r=e(r,t,n,i,o,a,c,u)})),this[o].apply(this,n),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="find"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t,n){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return!1;if(1===arguments.length)return dt(!0,this,r,n=e);if(2===arguments.length){e=""+e,n=t;var a=this._nodes.get(e);if(void 0===a)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return ce(!0,this.multi,"mixed"===r?this.type:r,i,a,n)}if(3===arguments.length){e=""+e,t=""+t;var c=this._nodes.get(e);if(!c)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return le(!0,r,this.multi,i,c,t,n)}throw new B("Graph.".concat(o,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var a="some"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[a]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,c){return t(e,n,r,i,o,a,c)})),!!this[o].apply(this,e)};var c="every"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[c]=function(){var e=Array.prototype.slice.call(arguments),t=e.pop();return e.push((function(e,n,r,i,o,a,c){return!t(e,n,r,i,o,a,c)})),!this[o].apply(this,e)}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n.slice(0,-1)+"Entries";e.prototype[o]=function(e,t){if("mixed"!==r&&"mixed"!==this.type&&r!==this.type)return D.empty();if(!arguments.length)return ue(this,r);if(1===arguments.length){e=""+e;var n=this._nodes.get(e);if(!n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));return de(r,i,n)}if(2===arguments.length){e=""+e,t=""+t;var a=this._nodes.get(e);if(!a)throw new W("Graph.".concat(o,':  could not find the "').concat(e,'" source node in the graph.'));if(!this._nodes.has(t))throw new W("Graph.".concat(o,':  could not find the "').concat(t,'" target node in the graph.'));return pe(r,i,a,t)}throw new B("Graph.".concat(o,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}(e,t)}))}(Te),function(e){ge.forEach((function(t){we(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o="forEach"+n[0].toUpperCase()+n.slice(1,-1);e.prototype[o]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(o,': could not find the "').concat(e,'" node in the graph.'));me(!1,"mixed"===r?this.type:r,i,n,t)}};var a="map"+n[0].toUpperCase()+n.slice(1);e.prototype[a]=function(e,t){var n=[];return this[o](e,(function(e,r){n.push(t(e,r))})),n};var c="filter"+n[0].toUpperCase()+n.slice(1);e.prototype[c]=function(e,t){var n=[];return this[o](e,(function(e,r){t(e,r)&&n.push(e)})),n};var u="reduce"+n[0].toUpperCase()+n.slice(1);e.prototype[u]=function(e,t,n){if(arguments.length<3)throw new B("Graph.".concat(u,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var r=n;return this[o](e,(function(e,n){r=t(r,e,n)})),r}}(e,t),function(e,t){var n=t.name,r=t.type,i=t.direction,o=n[0].toUpperCase()+n.slice(1,-1),a="find"+o;e.prototype[a]=function(e,t){if("mixed"===r||"mixed"===this.type||r===this.type){e=""+e;var n=this._nodes.get(e);if(void 0===n)throw new W("Graph.".concat(a,': could not find the "').concat(e,'" node in the graph.'));return me(!0,"mixed"===r?this.type:r,i,n,t)}};var c="some"+o;e.prototype[c]=function(e,t){return!!this[a](e,t)};var u="every"+o;e.prototype[u]=function(e,t){return!this[a](e,(function(e,n){return!t(e,n)}))}}(e,t),_e(e,t)}))}(Te);var Me=function(e){function n(t){var n=u({type:"directed"},t);if("multi"in n&&!1!==n.multi)throw new B("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("directed"!==n.type)throw new B('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Te),Pe=function(e){function n(t){var n=u({type:"undirected"},t);if("multi"in n&&!1!==n.multi)throw new B("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if("undirected"!==n.type)throw new B('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Te),Ne=function(e){function n(t){var n=u({multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t(n,e),n}(Te),je=function(e){function n(t){var n=u({type:"directed",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("directed"!==n.type)throw new B('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Te),ze=function(e){function n(t){var n=u({type:"undirected",multi:!0},t);if("multi"in n&&!0!==n.multi)throw new B("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if("undirected"!==n.type)throw new B('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t(n,e),n}(Te);function Ue(e){e.from=function(t,n){var r=u({},t.options,n),i=new e(r);return i.import(t),i}}return Ue(Te),Ue(Me),Ue(Pe),Ue(Ne),Ue(je),Ue(ze),Te.Graph=Te,Te.DirectedGraph=Me,Te.UndirectedGraph=Pe,Te.MultiGraph=Ne,Te.MultiDirectedGraph=je,Te.MultiUndirectedGraph=ze,Te.InvalidArgumentsGraphError=B,Te.NotFoundGraphError=W,Te.UsageGraphError=H,Te}()},414:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sigma=t.MouseCaptor=t.QuadTree=t.Camera=void 0;var o=r(n(415));t.Sigma=o.default;var c=r(n(397));t.Camera=c.default;var h=r(n(402));t.QuadTree=h.default;var d=r(n(400));t.MouseCaptor=d.default,t.default=o.default},415:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__assign||function(){return c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c.apply(this,arguments)},h=this&&this.__values||function(e){var s="function"==typeof Symbol&&Symbol.iterator,t=s&&e[s],i=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(s?"Object is not iterable.":"Symbol.iterator is not defined.")},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var l=d(n(396)),f=d(n(397)),y=d(n(400)),v=d(n(402)),m=n(392),w=n(372),_=n(420),x=n(421),E=d(n(437)),S=n(398),L=n(438);function C(e,t,data){if(!data.hasOwnProperty("x")||!data.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return data.color||(data.color=e.defaultNodeColor),data.label||""===data.label||(data.label=null),void 0!==data.label&&null!==data.label?data.label=""+data.label:data.label=null,data.size||(data.size=2),data.hasOwnProperty("hidden")||(data.hidden=!1),data.hasOwnProperty("highlighted")||(data.highlighted=!1),data.hasOwnProperty("forceLabel")||(data.forceLabel=!1),data.type&&""!==data.type||(data.type=e.defaultNodeType),data.zIndex||(data.zIndex=0),data}function A(e,t,data){return data.color||(data.color=e.defaultEdgeColor),data.label||(data.label=""),data.size||(data.size=.5),data.hasOwnProperty("hidden")||(data.hidden=!1),data.hasOwnProperty("forceLabel")||(data.forceLabel=!1),data.type&&""!==data.type||(data.type=e.defaultEdgeType),data.zIndex||(data.zIndex=0),data}var k=function(e){function t(t,n,r){void 0===r&&(r={});var o=e.call(this)||this;if(o.elements={},o.canvasContexts={},o.webGLContexts={},o.activeListeners={},o.quadtree=new v.default,o.labelGrid=new _.LabelGrid,o.nodeDataCache={},o.edgeDataCache={},o.nodesWithForcedLabels=[],o.edgesWithForcedLabels=[],o.nodeExtent={x:[0,1],y:[0,1]},o.matrix=(0,S.identity)(),o.invMatrix=(0,S.identity)(),o.correctionRatio=1,o.customBBox=null,o.normalizationFunction=(0,w.createNormalizationFunction)({x:[0,1],y:[0,1]}),o.graphToViewportRatio=1,o.width=0,o.height=0,o.pixelRatio=(0,w.getPixelRatio)(),o.displayedNodeLabels=new Set,o.displayedEdgeLabels=new Set,o.highlightedNodes=new Set,o.hoveredNode=null,o.hoveredEdge=null,o.renderFrame=null,o.renderHighlightedNodesFrame=null,o.needToProcess=!1,o.checkEdgesEventsFrame=null,o.nodePrograms={},o.nodeHoverPrograms={},o.edgePrograms={},o.settings=(0,x.resolveSettings)(r),(0,x.validateSettings)(o.settings),(0,w.validateGraph)(t),!(n instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");for(var c in o.graph=t,o.container=n,o.createWebGLContext("edges",{preserveDrawingBuffer:!0}),o.createCanvasContext("edgeLabels"),o.createWebGLContext("nodes"),o.createCanvasContext("labels"),o.createCanvasContext("hovers"),o.createWebGLContext("hoverNodes"),o.createCanvasContext("mouse"),o.webGLContexts){var h=o.webGLContexts[c];h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA),h.enable(h.BLEND)}for(var d in o.settings.nodeProgramClasses){var l=o.settings.nodeProgramClasses[d];o.nodePrograms[d]=new l(o.webGLContexts.nodes,o);var m=l;d in o.settings.nodeHoverProgramClasses&&(m=o.settings.nodeHoverProgramClasses[d]),o.nodeHoverPrograms[d]=new m(o.webGLContexts.hoverNodes,o)}for(var d in o.settings.edgeProgramClasses){var L=o.settings.edgeProgramClasses[d];o.edgePrograms[d]=new L(o.webGLContexts.edges,o)}return o.resize(),o.camera=new f.default,o.bindCameraHandlers(),o.mouseCaptor=new y.default(o.elements.mouse,o),o.touchCaptor=new E.default(o.elements.mouse,o),o.bindEventHandlers(),o.bindGraphHandlers(),o.handleSettingsUpdate(),o.refresh(),o}return o(t,e),t.prototype.createCanvas=function(e){var canvas=(0,w.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=canvas,this.container.appendChild(canvas),canvas},t.prototype.createCanvasContext=function(e){var canvas=this.createCanvas(e);return this.canvasContexts[e]=canvas.getContext("2d",{preserveDrawingBuffer:!1,antialias:!1}),this},t.prototype.createWebGLContext=function(e,t){var n,canvas=this.createCanvas(e),r=c({preserveDrawingBuffer:!1,antialias:!1},t||{});return(n=canvas.getContext("webgl2",r))||(n=canvas.getContext("webgl",r)),n||(n=canvas.getContext("experimental-webgl",r)),this.webGLContexts[e]=n,this},t.prototype.bindCameraHandlers=function(){var e=this;return this.activeListeners.camera=function(){e.scheduleRender()},this.camera.on("updated",this.activeListeners.camera),this},t.prototype.unbindCameraHandlers=function(){return this.camera.removeListener("updated",this.activeListeners.camera),this},t.prototype.mouseIsOnNode=function(e,t,n){var r=e.x,o=e.y,c=t.x,h=t.y;return r>c-n&&r<c+n&&o>h-n&&o<h+n&&Math.sqrt(Math.pow(r-c,2)+Math.pow(o-h,2))<n},t.prototype.getQuadNodes=function(e){var t=this.viewportToFramedGraph(e);return this.quadtree.point(t.x,1-t.y)},t.prototype.getNodeAtPosition=function(e){for(var t=e.x,n=e.y,r=this.getQuadNodes(e),o=1/0,c=null,i=0,h=r.length;i<h;i++){var d=r[i],data=this.nodeDataCache[d],l=this.framedGraphToViewport(data),f=this.scaleSize(data.size);if(!data.hidden&&this.mouseIsOnNode(e,l,f)){var y=Math.sqrt(Math.pow(t-l.x,2)+Math.pow(n-l.y,2));y<o&&(o=y,c=d)}}return c},t.prototype.bindEventHandlers=function(){var e=this;this.activeListeners.handleResize=function(){e.scheduleRender()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(t){var n={event:t,preventSigmaDefault:function(){t.preventSigmaDefault()}},r=e.getNodeAtPosition(t);if(r&&e.hoveredNode!==r&&!e.nodeDataCache[r].hidden)return e.hoveredNode&&e.emit("leaveNode",c(c({},n),{node:e.hoveredNode})),e.hoveredNode=r,e.emit("enterNode",c(c({},n),{node:r})),void e.scheduleHighlightedNodesRender();if(e.hoveredNode){var data=e.nodeDataCache[e.hoveredNode],o=e.framedGraphToViewport(data),h=e.scaleSize(data.size);if(!e.mouseIsOnNode(t,o,h)){var d=e.hoveredNode;return e.hoveredNode=null,e.emit("leaveNode",c(c({},n),{node:d})),void e.scheduleHighlightedNodesRender()}}!0===e.settings.enableEdgeHoverEvents?e.checkEdgeHoverEvents(n):"debounce"===e.settings.enableEdgeHoverEvents&&(e.checkEdgesEventsFrame||(e.checkEdgesEventsFrame=(0,w.requestFrame)((function(){e.checkEdgeHoverEvents(n),e.checkEdgesEventsFrame=null}))))};var t=function(t){return function(n){var r={event:n,preventSigmaDefault:function(){n.preventSigmaDefault()}},o=n.original.isFakeSigmaMouseEvent?e.getNodeAtPosition(n):e.hoveredNode;if(o)return e.emit("".concat(t,"Node"),c(c({},r),{node:o}));if("wheel"===t?e.settings.enableEdgeWheelEvents:e.settings.enableEdgeClickEvents){var h=e.getEdgeAtPoint(n.x,n.y);if(h)return e.emit("".concat(t,"Edge"),c(c({},r),{edge:h}))}return e.emit("".concat(t,"Stage"),r)}};return this.activeListeners.handleClick=t("click"),this.activeListeners.handleRightClick=t("rightClick"),this.activeListeners.handleDoubleClick=t("doubleClick"),this.activeListeners.handleWheel=t("wheel"),this.activeListeners.handleDown=t("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},t.prototype.bindGraphHandlers=function(){var e=this,t=this.graph;return this.activeListeners.graphUpdate=function(){e.scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(t){delete e.nodeDataCache[t.key],e.hoveredNode===t.key&&(e.hoveredNode=null),e.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(t){delete e.edgeDataCache[t.key],e.hoveredEdge===t.key&&(e.hoveredEdge=null),e.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){e.edgeDataCache={},e.hoveredEdge=null,e.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){e.nodeDataCache={},e.hoveredNode=null,e.activeListeners.clearEdgesGraphUpdate()},t.on("nodeAdded",this.activeListeners.graphUpdate),t.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),t.on("nodeAttributesUpdated",this.activeListeners.graphUpdate),t.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgeAdded",this.activeListeners.graphUpdate),t.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),t.on("edgeAttributesUpdated",this.activeListeners.graphUpdate),t.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),t.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),t.on("cleared",this.activeListeners.clearGraphUpdate),this},t.prototype.unbindGraphHandlers=function(){var e=this.graph;e.removeListener("nodeAdded",this.activeListeners.graphUpdate),e.removeListener("nodeDropped",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgeAdded",this.activeListeners.graphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate)},t.prototype.checkEdgeHoverEvents=function(e){var t=this.hoveredNode?null:this.getEdgeAtPoint(e.event.x,e.event.y);return t!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",c(c({},e),{edge:this.hoveredEdge})),t&&this.emit("enterEdge",c(c({},e),{edge:t})),this.hoveredEdge=t),this},t.prototype.getEdgeAtPoint=function(e,t){var n,r,o=this,c=this.edgeDataCache,d=this.nodeDataCache;if(!(0,L.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,t*this.pixelRatio))return null;var l=this.viewportToGraph({x:e,y:t}),f=l.x,y=l.y,v=0;if(this.graph.someEdge((function(e,t,n,r,h,l){var f=h.x,y=h.y,m=l.x,w=l.y;if(c[e].hidden||d[n].hidden||d[r].hidden)return!1;if(f!==m||y!==w){var _=Math.sqrt(Math.pow(m-f,2)+Math.pow(w-y,2)),x=o.graphToViewport({x:f,y:y}),E=x.x,S=x.y,L=o.graphToViewport({x:m,y:w}),C=L.x,A=L.y,k=Math.sqrt(Math.pow(C-E,2)+Math.pow(A-S,2));return v=_/k,!0}})),!v)return null;var m=this.graph.filterEdges((function(e,t,n,r,h,l){return!(c[e].hidden||d[n].hidden||d[r].hidden)&&(!!(0,L.doEdgeCollideWithPoint)(f,y,h.x,h.y,l.x,l.y,o.scaleSize(c[e].size*v))||void 0)}));if(0===m.length)return null;var w=m[m.length-1],_=-1/0;try{for(var x=h(m),E=x.next();!E.done;E=x.next()){var S=E.value,C=this.graph.getEdgeAttribute(S,"zIndex");C>=_&&(w=S,_=C)}}catch(e){n={error:e}}finally{try{E&&!E.done&&(r=x.return)&&r.call(x)}finally{if(n)throw n.error}}return w},t.prototype.process=function(){var e=this,t=this.graph,n=this.settings,r=this.getDimensions(),o=[1/0,-1/0],c=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(r,n.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,w.graphExtent)(t),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var h=new f.default,d=(0,w.matrixFromCamera)(h.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,w.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var l={},y=t.nodes(),i=0,v=y.length;i<v;i++){var m=y[i],_=Object.assign({},t.getNodeAttributes(m));n.nodeReducer&&(_=n.nodeReducer(m,_)),l[(data=C(this.settings,m,_)).type]=(l[data.type]||0)+1,this.nodeDataCache[m]=data,this.normalizationFunction.applyTo(data),data.forceLabel&&this.nodesWithForcedLabels.push(m),this.settings.zIndex&&(data.zIndex<o[0]&&(o[0]=data.zIndex),data.zIndex>o[1]&&(o[1]=data.zIndex))}for(var x in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(x))throw new Error('Sigma: could not find a suitable program for node type "'.concat(x,'"!'));this.nodePrograms[x].reallocate(l[x]||0),l[x]=0}this.settings.zIndex&&o[0]!==o[1]&&(y=(0,w.zIndexOrdering)(o,(function(t){return e.nodeDataCache[t].zIndex}),y));var E=this.normalizationFunction.ratio;for(i=0,v=y.length;i<v;i++){m=y[i];var data=this.nodeDataCache[m];this.quadtree.add(m,data.x,1-data.y,this.scaleSize(data.size,1)/E),"string"!=typeof data.label||data.hidden||this.labelGrid.add(m,data.size,this.framedGraphToViewport(data,{matrix:d}));var S=this.nodePrograms[data.type];if(!S)throw new Error('Sigma: could not find a suitable program for node type "'.concat(data.type,'"!'));S.process(l[data.type]++,data),data.highlighted&&!data.hidden&&this.highlightedNodes.add(m)}this.labelGrid.organize();var L={},k=t.edges();for(i=0,v=k.length;i<v;i++){var O=k[i];_=Object.assign({},t.getEdgeAttributes(O));n.edgeReducer&&(_=n.edgeReducer(O,_)),L[(data=A(this.settings,0,_)).type]=(L[data.type]||0)+1,this.edgeDataCache[O]=data,data.forceLabel&&!data.hidden&&this.edgesWithForcedLabels.push(O),this.settings.zIndex&&(data.zIndex<c[0]&&(c[0]=data.zIndex),data.zIndex>c[1]&&(c[1]=data.zIndex))}for(var x in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(x))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(x,'"!'));this.edgePrograms[x].reallocate(L[x]||0),L[x]=0}this.settings.zIndex&&c[0]!==c[1]&&(k=(0,w.zIndexOrdering)(c,(function(t){return e.edgeDataCache[t].zIndex}),k));for(i=0,v=k.length;i<v;i++){O=k[i],data=this.edgeDataCache[O];var R=t.extremities(O),G=this.nodeDataCache[R[0]],D=this.nodeDataCache[R[1]];this.edgePrograms[data.type].process(L[data.type]++,G,D,data)}return this},t.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},t.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),t=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity);(0,l.default)(t,this.nodesWithForcedLabels),this.displayedNodeLabels=new Set;for(var n=this.canvasContexts.labels,i=0,r=t.length;i<r;i++){var o=t[i],data=this.nodeDataCache[o];if(!this.displayedNodeLabels.has(o)&&!data.hidden){var h=this.framedGraphToViewport(data),d=h.x,f=h.y,y=this.scaleSize(data.size);!data.forceLabel&&y<this.settings.labelRenderedSizeThreshold||d<-150||d>this.width+150||f<-50||f>this.height+50||(this.displayedNodeLabels.add(o),this.settings.labelRenderer(n,c(c({key:o},data),{size:y,x:d,y:f}),this.settings))}}return this},t.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);for(var t=(0,_.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedNodeLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),n=new Set,i=0,r=t.length;i<r;i++){var o=t[i],h=this.graph.extremities(o),d=this.nodeDataCache[h[0]],l=this.nodeDataCache[h[1]],f=this.edgeDataCache[o];n.has(o)||(f.hidden||d.hidden||l.hidden||(this.settings.edgeLabelRenderer(e,c(c({key:o},f),{size:this.scaleSize(f.size)}),c(c(c({key:h[0]},d),this.framedGraphToViewport(d)),{size:this.scaleSize(d.size)}),c(c(c({key:h[1]},l),this.framedGraphToViewport(l)),{size:this.scaleSize(l.size)}),this.settings),n.add(o)))}return this.displayedEdgeLabels=n,this},t.prototype.renderHighlightedNodes=function(){var e=this,t=this.canvasContexts.hovers;t.clearRect(0,0,this.width,this.height);var n=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&n.push(this.hoveredNode),this.highlightedNodes.forEach((function(t){t!==e.hoveredNode&&n.push(t)})),n.forEach((function(n){return function(n){var data=e.nodeDataCache[n],r=e.framedGraphToViewport(data),o=r.x,h=r.y,d=e.scaleSize(data.size);e.settings.hoverRenderer(t,c(c({key:n},data),{size:d,x:o,y:h}),e.settings)}(n)}));var r={};for(var o in n.forEach((function(t){var n=e.nodeDataCache[t].type;r[n]=(r[n]||0)+1})),this.nodeHoverPrograms)this.nodeHoverPrograms[o].reallocate(r[o]||0),r[o]=0;for(var o in n.forEach((function(t){var data=e.nodeDataCache[t];e.nodeHoverPrograms[data.type].process(r[data.type]++,data)})),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.nodeHoverPrograms){this.nodeHoverPrograms[o].render({matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio})}},t.prototype.scheduleHighlightedNodesRender=function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,w.requestFrame)((function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()})))},t.prototype.render=function(){var e=this;this.emit("beforeRender");var t=function(){return e.emit("afterRender"),e};if(this.renderFrame&&((0,w.cancelFrame)(this.renderFrame),this.renderFrame=null),this.resize(),this.needToProcess&&this.process(),this.needToProcess=!1,this.clear(),!this.graph.order)return t();var n=this.mouseCaptor,r=this.camera.isAnimated()||n.isMoving||n.draggedEvents||n.currentWheelDirection,o=this.camera.getState(),c=this.getDimensions(),h=this.getGraphDimensions(),d=this.getSetting("stagePadding")||0;this.matrix=(0,w.matrixFromCamera)(o,c,h,d),this.invMatrix=(0,w.matrixFromCamera)(o,c,h,d,!0),this.correctionRatio=(0,w.getMatrixImpact)(this.matrix,o,c),this.graphToViewportRatio=this.getGraphToViewportRatio();var l={matrix:this.matrix,width:this.width,height:this.height,pixelRatio:this.pixelRatio,zoomRatio:this.camera.ratio,sizeRatio:1/this.scaleSize(),correctionRatio:this.correctionRatio};for(var f in this.nodePrograms){this.nodePrograms[f].render(l)}if(!this.settings.hideEdgesOnMove||!r)for(var f in this.edgePrograms){this.edgePrograms[f].render(l)}return this.settings.hideLabelsOnMove&&r||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),t()},t.prototype.getCamera=function(){return this.camera},t.prototype.setCamera=function(e){this.unbindCameraHandlers(),this.camera=e,this.bindCameraHandlers()},t.prototype.getContainer=function(){return this.container},t.prototype.getGraph=function(){return this.graph},t.prototype.setGraph=function(e){e!==this.graph&&(this.unbindGraphHandlers(),this.nodeDataCache={},this.edgeDataCache={},this.displayedNodeLabels.clear(),this.displayedEdgeLabels.clear(),this.highlightedNodes.clear(),this.hoveredNode=null,this.hoveredEdge=null,this.nodesWithForcedLabels.length=0,this.edgesWithForcedLabels.length=0,null!==this.checkEdgesEventsFrame&&((0,w.cancelFrame)(this.checkEdgesEventsFrame),this.checkEdgesEventsFrame=null),this.graph=e,this.bindGraphHandlers(),this.refresh())},t.prototype.getMouseCaptor=function(){return this.mouseCaptor},t.prototype.getTouchCaptor=function(){return this.touchCaptor},t.prototype.getDimensions=function(){return{width:this.width,height:this.height}},t.prototype.getGraphDimensions=function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}},t.prototype.getNodeDisplayData=function(e){var t=this.nodeDataCache[e];return t?Object.assign({},t):void 0},t.prototype.getEdgeDisplayData=function(e){var t=this.edgeDataCache[e];return t?Object.assign({},t):void 0},t.prototype.getNodeDisplayedLabels=function(){return new Set(this.displayedNodeLabels)},t.prototype.getEdgeDisplayedLabels=function(){return new Set(this.displayedEdgeLabels)},t.prototype.getSettings=function(){return c({},this.settings)},t.prototype.getSetting=function(e){return this.settings[e]},t.prototype.setSetting=function(e,t){return this.settings[e]=t,(0,x.validateSettings)(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this},t.prototype.updateSetting=function(e,t){return this.settings[e]=t(this.settings[e]),(0,x.validateSettings)(this.settings),this.handleSettingsUpdate(),this.scheduleRefresh(),this},t.prototype.resize=function(){var e=this.width,t=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,w.getPixelRatio)(),0===this.width){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.width=1}if(0===this.height){if(!this.settings.allowInvalidContainer)throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seeing this error.");this.height=1}if(e===this.width&&t===this.height)return this;for(var n in this.emit("resize"),this.elements){var element=this.elements[n];element.style.width=this.width+"px",element.style.height=this.height+"px"}for(var n in this.canvasContexts)this.elements[n].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[n].setAttribute("height",this.height*this.pixelRatio+"px"),1!==this.pixelRatio&&this.canvasContexts[n].scale(this.pixelRatio,this.pixelRatio);for(var n in this.webGLContexts)this.elements[n].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[n].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[n].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},t.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},t.prototype.refresh=function(){return this.needToProcess=!0,this.render(),this},t.prototype.scheduleRender=function(){var e=this;return this.renderFrame||(this.renderFrame=(0,w.requestFrame)((function(){e.render()}))),this},t.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this.scheduleRender(),this},t.prototype.getViewportZoomedState=function(e,t){var n=this.camera.getState(),r=n.ratio,o=n.angle,c=n.x,h=n.y,d=t/r,l={x:this.width/2,y:this.height/2},f=this.viewportToFramedGraph(e),y=this.viewportToFramedGraph(l);return{angle:o,x:(f.x-y.x)*(1-d)+c,y:(f.y-y.y)*(1-d)+h,ratio:t}},t.prototype.viewRectangle=function(){var e=0*this.width/8,t=0*this.height/8,n=this.viewportToFramedGraph({x:0-e,y:0-t}),r=this.viewportToFramedGraph({x:this.width+e,y:0-t}),o=this.viewportToFramedGraph({x:0,y:this.height+t});return{x1:n.x,y1:n.y,x2:r.x,y2:r.y,height:r.y-o.y}},t.prototype.framedGraphToViewport=function(e,t){void 0===t&&(t={});var n=!!t.cameraState||!!t.viewportDimensions||!!t.graphDimensions,r=t.matrix?t.matrix:n?(0,w.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0):this.matrix,o=(0,S.multiplyVec2)(r,e);return{x:(1+o.x)*this.width/2,y:(1-o.y)*this.height/2}},t.prototype.viewportToFramedGraph=function(e,t){void 0===t&&(t={});var n=!!t.cameraState||!!t.viewportDimensions||!t.graphDimensions,r=t.matrix?t.matrix:n?(0,w.matrixFromCamera)(t.cameraState||this.camera.getState(),t.viewportDimensions||this.getDimensions(),t.graphDimensions||this.getGraphDimensions(),t.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,o=(0,S.multiplyVec2)(r,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),o},t.prototype.viewportToGraph=function(e,t){return void 0===t&&(t={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(e,t))},t.prototype.graphToViewport=function(e,t){return void 0===t&&(t={}),this.framedGraphToViewport(this.normalizationFunction(e),t)},t.prototype.getGraphToViewportRatio=function(){var e={x:0,y:0},t={x:1,y:1},n=Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),r=this.graphToViewport(e),o=this.graphToViewport(t);return Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2))/n},t.prototype.getBBox=function(){return(0,w.graphExtent)(this.graph)},t.prototype.getCustomBBox=function(){return this.customBBox},t.prototype.setCustomBBox=function(e){return this.customBBox=e,this.scheduleRender(),this},t.prototype.kill=function(){this.emit("kill"),this.removeAllListeners(),this.unbindCameraHandlers(),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),this.unbindGraphHandlers(),this.quadtree=new v.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,w.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,w.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var e=this.container;e.firstChild;)e.removeChild(e.firstChild)},t.prototype.scaleSize=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=this.camera.ratio),e/this.settings.zoomToSizeRatioFunction(t)*("positions"===this.getSetting("itemSizesReference")?t*this.graphToViewportRatio:1)},t.prototype.getCanvases=function(){return c({},this.elements)},t}(m.TypedEventEmitter);t.default=k},416:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.animateNodes=t.ANIMATE_DEFAULTS=void 0;var o=n(372),c=r(n(399));t.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150},t.animateNodes=function(e,n,r,h){var d=Object.assign({},t.ANIMATE_DEFAULTS,r),l="function"==typeof d.easing?d.easing:c.default[d.easing],f=Date.now(),y={};for(var v in n){var m=n[v];for(var w in y[v]={},m)y[v][w]=e.getNodeAttribute(v,w)}var _=null,x=function(){_=null;var p=(Date.now()-f)/d.duration;if(p>=1){for(var t in n){var r=n[t];for(var c in r)e.setNodeAttribute(t,c,r[c])}"function"==typeof h&&h()}else{for(var t in p=l(p),n){r=n[t];var s=y[t];for(var c in r)e.setNodeAttribute(t,c,r[c]*p+s[c]*(1-p))}_=(0,o.requestFrame)(x)}};return x(),function(){_&&(0,o.cancelFrame)(_)}}},417:function(e,t){e.exports=function(e){return null!==e&&"object"==typeof e&&"function"==typeof e.addUndirectedEdgeWithKey&&"function"==typeof e.dropNode&&"boolean"==typeof e.multi}},418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HTML_COLORS=void 0,t.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"}},419:function(e,t,n){"use strict";var r,o="object"==typeof Reflect?Reflect:null,c=o&&"function"==typeof o.apply?o.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=o&&"function"==typeof o.ownKeys?o.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var h=Number.isNaN||function(e){return e!=e};function d(){d.init.call(this)}e.exports=d,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,c),r(n)}function c(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}S(e,t,c,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&S(e,"error",t,n)}(e,o,{once:!0})}))},d.EventEmitter=d,d.prototype._events=void 0,d.prototype._eventsCount=0,d.prototype._maxListeners=void 0;var l=10;function f(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function y(e){return void 0===e._maxListeners?d.defaultMaxListeners:e._maxListeners}function v(e,t,n,r){var o,c,h,d;if(f(n),void 0===(c=e._events)?(c=e._events=Object.create(null),e._eventsCount=0):(void 0!==c.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),c=e._events),h=c[t]),void 0===h)h=c[t]=n,++e._eventsCount;else if("function"==typeof h?h=c[t]=r?[n,h]:[h,n]:r?h.unshift(n):h.push(n),(o=y(e))>0&&h.length>o&&!h.warned){h.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+h.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=h.length,d=l,console&&console.warn&&console.warn(d)}return e}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function w(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=m.bind(r);return o.listener=n,r.wrapFn=o,o}function _(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(o):E(o,o.length)}function x(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function E(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function S(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(c){r.once&&e.removeEventListener(t,o),n(c)}))}}Object.defineProperty(d,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||h(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");l=e}}),d.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},d.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||h(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},d.prototype.getMaxListeners=function(){return y(this)},d.prototype.emit=function(e){for(var t=[],i=1;i<arguments.length;i++)t.push(arguments[i]);var n="error"===e,r=this._events;if(void 0!==r)n=n&&void 0===r.error;else if(!n)return!1;if(n){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var h=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw h.context=o,h}var d=r[e];if(void 0===d)return!1;if("function"==typeof d)c(d,this,t);else{var l=d.length,f=E(d,l);for(i=0;i<l;++i)c(f[i],this,t)}return!0},d.prototype.addListener=function(e,t){return v(this,e,t,!1)},d.prototype.on=d.prototype.addListener,d.prototype.prependListener=function(e,t){return v(this,e,t,!0)},d.prototype.once=function(e,t){return f(t),this.on(e,w(this,e,t)),this},d.prototype.prependOnceListener=function(e,t){return f(t),this.prependListener(e,w(this,e,t)),this},d.prototype.removeListener=function(e,t){var n,r,o,i,c;if(f(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){c=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,c||t)}return this},d.prototype.off=d.prototype.removeListener,d.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},d.prototype.listeners=function(e){return _(this,e,!0)},d.prototype.rawListeners=function(e){return _(this,e,!1)},d.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):x.call(e,t)},d.prototype.listenerCount=x,d.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.edgeLabelsToDisplayFromNodes=t.LabelGrid=void 0;var r=function(){function e(e,t){this.key=e,this.size=t}return e.compare=function(e,t){return e.size>t.size?-1:e.size<t.size||e.key>t.key?1:-1},e}(),o=function(){function e(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return e.prototype.resizeAndClear=function(e,t){this.width=e.width,this.height=e.height,this.cellSize=t,this.columns=Math.ceil(e.width/t),this.rows=Math.ceil(e.height/t),this.cells={}},e.prototype.getIndex=function(e){var t=Math.floor(e.x/this.cellSize);return Math.floor(e.y/this.cellSize)*this.columns+t},e.prototype.add=function(e,t,n){var o=new r(e,t),c=this.getIndex(n),h=this.cells[c];h||(h=[],this.cells[c]=h),h.push(o)},e.prototype.organize=function(){for(var e in this.cells){this.cells[e].sort(r.compare)}},e.prototype.getLabelsToDisplay=function(e,t){var n=this.cellSize*this.cellSize,r=n/e/e*t/n,o=Math.ceil(r),c=[];for(var h in this.cells)for(var d=this.cells[h],i=0;i<Math.min(o,d.length);i++)c.push(d[i].key);return c},e}();t.LabelGrid=o,t.edgeLabelsToDisplayFromNodes=function(e){var t=e.graph,n=e.hoveredNode,r=e.highlightedNodes,o=e.displayedNodeLabels,c=[];return t.forEachEdge((function(e,t,source,h){(source===n||h===n||r.has(source)||r.has(h)||o.has(source)&&o.has(h))&&c.push(e)})),c}},421:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.resolveSettings=t.validateSettings=t.DEFAULT_EDGE_PROGRAM_CLASSES=t.DEFAULT_NODE_PROGRAM_CLASSES=t.DEFAULT_SETTINGS=void 0;var o=n(372),c=r(n(403)),h=r(n(422)),d=r(n(423)),l=r(n(424)),f=r(n(405)),y=r(n(431));t.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,zoomToSizeRatioFunction:Math.sqrt,itemSizesReference:"screen",labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:c.default,hoverRenderer:h.default,edgeLabelRenderer:d.default,allowInvalidContainer:!1,nodeProgramClasses:{},nodeHoverProgramClasses:{},edgeProgramClasses:{}},t.DEFAULT_NODE_PROGRAM_CLASSES={circle:l.default},t.DEFAULT_EDGE_PROGRAM_CLASSES={arrow:y.default,line:f.default},t.validateSettings=function(e){if("number"!=typeof e.labelDensity||e.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=e.minCameraRatio,n=e.maxCameraRatio;if("number"==typeof t&&"number"==typeof n&&n<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")},t.resolveSettings=function(e){var n=(0,o.assign)({},t.DEFAULT_SETTINGS,e);return n.nodeProgramClasses=(0,o.assign)({},t.DEFAULT_NODE_PROGRAM_CLASSES,n.nodeProgramClasses),n.edgeProgramClasses=(0,o.assign)({},t.DEFAULT_EDGE_PROGRAM_CLASSES,n.edgeProgramClasses),n}},422:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(403));t.default=function(e,data,t){var n=t.labelSize,r=t.labelFont,c=t.labelWeight;if(e.font="".concat(c," ").concat(n,"px ").concat(r),e.fillStyle="#FFF",e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=8,e.shadowColor="#000","string"==typeof data.label){var h=e.measureText(data.label).width,d=Math.round(h+5),l=Math.round(n+4),f=Math.max(data.size,n/2)+2,y=Math.asin(l/2/f),v=Math.sqrt(Math.abs(Math.pow(f,2)-Math.pow(l/2,2)));e.beginPath(),e.moveTo(data.x+v,data.y+l/2),e.lineTo(data.x+f+d,data.y+l/2),e.lineTo(data.x+f+d,data.y-l/2),e.lineTo(data.x+v,data.y-l/2),e.arc(data.x,data.y,f,y,-y),e.closePath(),e.fill()}else e.beginPath(),e.arc(data.x,data.y,data.size+2,0,2*Math.PI),e.closePath(),e.fill();e.shadowOffsetX=0,e.shadowOffsetY=0,e.shadowBlur=0,(0,o.default)(e,data,t)}},423:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,o){var c=o.edgeLabelSize,h=o.edgeLabelFont,d=o.edgeLabelWeight,l=o.edgeLabelColor.attribute?t[o.edgeLabelColor.attribute]||o.edgeLabelColor.color||"#000":o.edgeLabelColor.color,label=t.label;if(label){e.fillStyle=l,e.font="".concat(d," ").concat(c,"px ").concat(h);var f,y,v=n.size,m=r.size,w=n.x,_=n.y,x=r.x,E=r.y,S=x-w,L=E-_,C=Math.sqrt(S*S+L*L);if(!(C<v+m)){f=((w+=S*v/C)+(x-=S*m/C))/2,y=((_+=L*v/C)+(E-=L*m/C))/2,S=x-w,L=E-_,C=Math.sqrt(S*S+L*L);var A,k=e.measureText(label).width;if(k>C){for(label+="",k=e.measureText(label).width;k>C&&label.length>1;)label=label.slice(0,-2)+"",k=e.measureText(label).width;if(label.length<4)return}A=S>0?L>0?Math.acos(S/C):Math.asin(L/C):L>0?Math.acos(S/C)+Math.PI:Math.asin(S/C)+Math.PI/2,e.save(),e.translate(f,y),e.rotate(A),e.fillText(label,-k/2,t.size/2+c),e.restore()}}}},424:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(372),d=n(425),l=c(n(427)),f=c(n(428)),y=WebGLRenderingContext.UNSIGNED_BYTE,v=WebGLRenderingContext.FLOAT,m=["u_sizeRatio","u_pixelRatio","u_matrix"],w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDefinition=function(){return{VERTICES:1,ARRAY_ITEMS_PER_VERTEX:4,VERTEX_SHADER_SOURCE:l.default,FRAGMENT_SHADER_SOURCE:f.default,UNIFORMS:m,ATTRIBUTES:[{name:"a_position",size:2,type:v},{name:"a_size",size:1,type:v},{name:"a_color",size:4,type:y,normalized:!0}]}},t.prototype.processVisibleItem=function(i,data){var e=this.array;e[i++]=data.x,e[i++]=data.y,e[i++]=data.size,e[i]=(0,h.floatColor)(data.color)},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_sizeRatio,o=n.u_pixelRatio,c=n.u_matrix;t.uniform1f(r,e.sizeRatio),t.uniform1f(o,e.pixelRatio),t.uniformMatrix3fv(c,!1,e.matrix),t.drawArrays(t.POINTS,0,this.verticesCount)},t}(d.NodeProgram);t.default=w},425:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)});Object.defineProperty(t,"__esModule",{value:!0}),t.createNodeCompoundProgram=t.NodeProgram=t.AbstractNodeProgram=void 0;var c=n(404),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(c.AbstractProgram);t.AbstractNodeProgram=h;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.process=function(e,data){var i=e*this.STRIDE;if(!data.hidden)return this.processVisibleItem(i,data);for(var t=i+this.STRIDE;i<t;i++)this.array[i]=0},t}(c.Program);t.NodeProgram=d,t.createNodeCompoundProgram=function(e){return function(){function t(t,n){this.programs=e.map((function(e){return new e(t,n)}))}return t.prototype.reallocate=function(e){this.programs.forEach((function(t){return t.reallocate(e)}))},t.prototype.process=function(e,data){this.programs.forEach((function(t){return t.process(e,data)}))},t.prototype.render=function(e){this.programs.forEach((function(t){return t.render(e)}))},t}()}},426:function(e,t,n){"use strict";function r(e,t,source){var n="VERTEX"===e?t.VERTEX_SHADER:t.FRAGMENT_SHADER,r=t.createShader(n);if(null===r)throw new Error("loadShader: error while creating the shader");if(t.shaderSource(r,source),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(r);throw t.deleteShader(r),new Error("loadShader: error while compiling the shader:\n".concat(o,"\n").concat(source))}return r}Object.defineProperty(t,"__esModule",{value:!0}),t.loadProgram=t.loadFragmentShader=t.loadVertexShader=void 0,t.loadVertexShader=function(e,source){return r("VERTEX",e,source)},t.loadFragmentShader=function(e,source){return r("FRAGMENT",e,source)},t.loadProgram=function(e,t){var i,n,r=e.createProgram();if(null===r)throw new Error("loadProgram: error while creating the program.");for(i=0,n=t.length;i<n;i++)e.attachShader(r,t[i]);if(e.linkProgram(r),!e.getProgramParameter(r,e.LINK_STATUS))throw e.deleteProgram(r),new Error("loadProgram: error while linking the program.");return r}},427:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec2 a_position;\nattribute float a_size;\nattribute vec4 a_color;\n\nuniform float u_sizeRatio;\nuniform float u_pixelRatio;\nuniform mat3 u_matrix;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  gl_Position = vec4(\n    (u_matrix * vec3(a_position, 1)).xy,\n    0,\n    1\n  );\n\n  // Multiply the point size twice:\n  //  - x SCALING_RATIO to correct the canvas scaling\n  //  - x 2 to correct the formulae\n  gl_PointSize = a_size / u_sizeRatio * u_pixelRatio * 2.0;\n\n  v_border = (0.5 / a_size) * u_sizeRatio;\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},428:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\nvarying float v_border;\n\nconst float radius = 0.5;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  vec2 m = gl_PointCoord - vec2(0.5, 0.5);\n  float dist = radius - length(m);\n\n  float t = 0.0;\n  if (dist > v_border)\n    t = 1.0;\n  else if (dist > 0.0)\n    t = dist / v_border;\n\n  gl_FragColor = mix(transparent, v_color, t);\n}\n";e.exports=n})()},429:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r='attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_zoomRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // We require edges to be at least `minThickness` pixels thick *on screen*\n  // (so we need to compensate the size ratio):\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n\n  // Then, we need to retrieve the normalized thickness of the edge in the WebGL\n  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction\n  // ratio:\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness, 1)).xy, 0, 1);\n\n  // For the fragment shader though, we need a thickness that takes the "magic"\n  // correction ratio into account (as in webGLThickness), but so that the\n  // antialiasing effect does not depend on the zoom level. So here\'s yet\n  // another thickness version:\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n';e.exports=n})()},430:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float feather = 0.001;\nconst vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);\n\nvoid main(void) {\n  float dist = length(v_normal) * v_thickness;\n\n  float t = smoothstep(\n    v_thickness - feather,\n    v_thickness,\n    dist\n  );\n\n  gl_FragColor = mix(v_color, transparent, t);\n}\n";e.exports=n})()},431:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(393),c=r(n(432)),h=r(n(435)),d=(0,o.createEdgeCompoundProgram)([h.default,c.default]);t.default=d},432:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var h=n(372),d=n(393),l=c(n(433)),f=c(n(434)),y=WebGLRenderingContext.UNSIGNED_BYTE,v=WebGLRenderingContext.FLOAT,m=["u_matrix","u_sizeRatio","u_correctionRatio"],w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDefinition=function(){return{VERTICES:3,ARRAY_ITEMS_PER_VERTEX:9,VERTEX_SHADER_SOURCE:l.default,FRAGMENT_SHADER_SOURCE:f.default,UNIFORMS:m,ATTRIBUTES:[{name:"a_position",size:2,type:v},{name:"a_normal",size:2,type:v},{name:"a_radius",size:1,type:v},{name:"a_color",size:4,type:y,normalized:!0},{name:"a_barycentric",size:3,type:v}]}},t.prototype.processVisibleItem=function(i,e,t,data){var n=data.size||1,r=t.size||1,o=e.x,c=e.y,d=t.x,l=t.y,f=(0,h.floatColor)(data.color),y=d-o,v=l-c,m=y*y+v*v,w=0,_=0;m&&(w=-v*(m=1/Math.sqrt(m))*n,_=y*m*n);var x=this.array;x[i++]=d,x[i++]=l,x[i++]=-w,x[i++]=-_,x[i++]=r,x[i++]=f,x[i++]=1,x[i++]=0,x[i++]=0,x[i++]=d,x[i++]=l,x[i++]=-w,x[i++]=-_,x[i++]=r,x[i++]=f,x[i++]=0,x[i++]=1,x[i++]=0,x[i++]=d,x[i++]=l,x[i++]=-w,x[i++]=-_,x[i++]=r,x[i++]=f,x[i++]=0,x[i++]=0,x[i]=1},t.prototype.draw=function(e){var t=this.gl,n=this.uniformLocations,r=n.u_matrix,o=n.u_sizeRatio,c=n.u_correctionRatio;t.uniformMatrix3fv(r,!1,e.matrix),t.uniform1f(o,e.sizeRatio),t.uniform1f(c,e.correctionRatio),t.drawArrays(t.TRIANGLES,0,this.verticesCount)},t}(d.EdgeProgram);t.default=w},433:function(e,t){(()=>{"use strict";var t={d:(a,e)=>{for(var n in e)t.o(e,n)&&!t.o(a,n)&&Object.defineProperty(a,n,{enumerable:!0,get:e[n]})},o:(e,a)=>Object.prototype.hasOwnProperty.call(e,a),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},a={};t.r(a),t.d(a,{default:()=>n});const n="attribute vec2 a_position;\nattribute vec2 a_normal;\nattribute float a_radius;\nattribute vec4 a_color;\nattribute vec3 a_barycentric;\n\nuniform mat3 u_matrix;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadWidthLengthRatio = 0.66;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl and\n  // edge.clamped.vert.glsl. Please read it to get better comments on what's\n  // happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n  float webGLNodeRadius = a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n  float webGLArrowHeadHalfWidth = webGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;\n\n  float da = a_barycentric.x;\n  float db = a_barycentric.y;\n  float dc = a_barycentric.z;\n\n  vec2 delta = vec2(\n      da * (webGLNodeRadius * unitNormal.y)\n    + db * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y + webGLArrowHeadHalfWidth * unitNormal.x)\n    + dc * ((webGLNodeRadius + webGLArrowHeadLength) * unitNormal.y - webGLArrowHeadHalfWidth * unitNormal.x),\n\n      da * (-webGLNodeRadius * unitNormal.x)\n    + db * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x + webGLArrowHeadHalfWidth * unitNormal.y)\n    + dc * (-(webGLNodeRadius + webGLArrowHeadLength) * unitNormal.x - webGLArrowHeadHalfWidth * unitNormal.y)\n  );\n\n  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;\n\n  gl_Position = vec4(position, 0, 1);\n\n  // Extract the color:\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=a})()},434:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="precision mediump float;\n\nvarying vec4 v_color;\n\nvoid main(void) {\n  gl_FragColor = v_color;\n}\n";e.exports=n})()},435:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__assign||function(){return c=Object.assign||function(e){for(var s,i=1,t=arguments.length;i<t;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(e[p]=s[p]);return e},c.apply(this,arguments)},h=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=h(n(405)),l=h(n(436)),f=n(372),y=WebGLRenderingContext.UNSIGNED_BYTE,v=WebGLRenderingContext.FLOAT,m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.getDefinition=function(){return c(c({},e.prototype.getDefinition.call(this)),{ARRAY_ITEMS_PER_VERTEX:6,VERTEX_SHADER_SOURCE:l.default,ATTRIBUTES:[{name:"a_position",size:2,type:v},{name:"a_normal",size:2,type:v},{name:"a_color",size:4,type:y,normalized:!0},{name:"a_radius",size:1,type:v}]})},t.prototype.processVisibleItem=function(i,e,t,data){var n=data.size||1,r=e.x,o=e.y,c=t.x,h=t.y,d=(0,f.floatColor)(data.color),l=c-r,y=h-o,v=t.size||1,m=l*l+y*y,w=0,_=0;m&&(w=-y*(m=1/Math.sqrt(m))*n,_=l*m*n);var x=this.array;x[i++]=r,x[i++]=o,x[i++]=w,x[i++]=_,x[i++]=d,x[i++]=0,x[i++]=r,x[i++]=o,x[i++]=-w,x[i++]=-_,x[i++]=d,x[i++]=0,x[i++]=c,x[i++]=h,x[i++]=w,x[i++]=_,x[i++]=d,x[i++]=v,x[i++]=c,x[i++]=h,x[i++]=-w,x[i++]=-_,x[i++]=d,x[i]=-v},t}(d.default);t.default=m},436:function(e,t){(()=>{"use strict";var t={d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};t.r(n),t.d(n,{default:()=>r});const r="attribute vec4 a_color;\nattribute vec2 a_normal;\nattribute vec2 a_position;\nattribute float a_radius;\n\nuniform mat3 u_matrix;\nuniform float u_zoomRatio;\nuniform float u_sizeRatio;\nuniform float u_correctionRatio;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_thickness;\n\nconst float minThickness = 1.7;\nconst float bias = 255.0 / 254.0;\nconst float arrowHeadLengthThicknessRatio = 2.5;\n\nvoid main() {\n  float normalLength = length(a_normal);\n  vec2 unitNormal = a_normal / normalLength;\n\n  // These first computations are taken from edge.vert.glsl. Please read it to\n  // get better comments on what's happening:\n  float pixelsThickness = max(normalLength, minThickness * u_sizeRatio);\n  float webGLThickness = pixelsThickness * u_correctionRatio / u_sizeRatio;\n\n  // Here, we move the point to leave space for the arrow head:\n  float direction = sign(a_radius);\n  float webGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio / u_sizeRatio;\n  float webGLArrowHeadLength = webGLThickness * 2.0 * arrowHeadLengthThicknessRatio;\n\n  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (webGLNodeRadius + webGLArrowHeadLength);\n\n  // Here is the proper position of the vertex\n  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * webGLThickness + compensationVector, 1)).xy, 0, 1);\n\n  v_thickness = webGLThickness / u_zoomRatio;\n\n  v_normal = unitNormal;\n  v_color = a_color;\n  v_color.a *= bias;\n}\n";e.exports=n})()},437:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,b){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,b){e.__proto__=b}||function(e,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(e[p]=b[p])},r(e,b)},function(e,b){if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");function t(){this.constructor=e}r(e,b),e.prototype=null===b?Object.create(b):(t.prototype=b.prototype,new t)}),c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),h=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&c(t,e,n);return h(t,e),t},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),c=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)c.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return c};Object.defineProperty(t,"__esModule",{value:!0});var f=d(n(401)),y=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.enabled=!0,r.isMoving=!1,r.hasMoved=!1,r.touchMode=0,r.startTouchesPositions=[],r.handleStart=r.handleStart.bind(r),r.handleLeave=r.handleLeave.bind(r),r.handleMove=r.handleMove.bind(r),t.addEventListener("touchstart",r.handleStart,!1),t.addEventListener("touchend",r.handleLeave,!1),t.addEventListener("touchcancel",r.handleLeave,!1),t.addEventListener("touchmove",r.handleMove,!1),r}return o(t,e),t.prototype.kill=function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchend",this.handleLeave),e.removeEventListener("touchcancel",this.handleLeave),e.removeEventListener("touchmove",this.handleMove)},t.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},t.prototype.dispatchRelatedMouseEvent=function(e,t,n,r){var o=n||t.touches[0],c=new MouseEvent(e,{clientX:o.clientX,clientY:o.clientY,altKey:t.altKey,ctrlKey:t.ctrlKey});c.isFakeSigmaMouseEvent=!0,(r||this.container).dispatchEvent(c)},t.prototype.handleStart=function(e){var t=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousedown",e);var n=(0,f.getTouchesArray)(e.touches);if(this.touchMode=n.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=n.map((function(e){return(0,f.getPosition)(e,t.container)})),this.lastTouches=n,this.lastTouchesPositions=this.startTouchesPositions,2===this.touchMode){var r=l(this.startTouchesPositions,2),o=r[0],c=o.x,h=o.y,d=r[1],y=d.x,v=d.y;this.startTouchesAngle=Math.atan2(v-h,y-c),this.startTouchesDistance=Math.sqrt(Math.pow(y-c,2)+Math.pow(v-h,2))}this.emit("touchdown",(0,f.getTouchCoords)(e,this.container))}},t.prototype.handleLeave=function(e){if(this.enabled){switch(e.preventDefault(),0===e.touches.length&&this.lastTouches&&this.lastTouches.length&&(this.dispatchRelatedMouseEvent("mouseup",e,this.lastTouches[0],document),this.hasMoved||this.dispatchRelatedMouseEvent("click",e,this.lastTouches[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(1===e.touches.length){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var t=this.renderer.getCamera(),n=t.getState(),r=t.getPreviousState()||{x:0,y:0};t.animate({x:n.x+3*(n.x-r.x),y:n.y+3*(n.y-r.y)},{duration:200,easing:"quadraticOut"})}this.hasMoved=!1,this.isMoving=!1,this.touchMode=0}this.emit("touchup",(0,f.getTouchCoords)(e,this.container))}},t.prototype.handleMove=function(e){var t,n=this;if(this.enabled){e.preventDefault(),1===e.touches.length&&this.dispatchRelatedMouseEvent("mousemove",e);var r=(0,f.getTouchesArray)(e.touches),o=r.map((function(e){return(0,f.getPosition)(e,n.container)}));if(this.lastTouches=r,this.lastTouchesPositions=o,this.hasMoved||(this.hasMoved=o.some((function(e,t){var r=n.startTouchesPositions[t];return e.x!==r.x||e.y!==r.y}))),this.hasMoved){this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout((function(){n.isMoving=!1}),200);var c=this.renderer.getCamera(),h=this.startCameraState;switch(this.touchMode){case 1:var d=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),y=d.x,v=d.y,m=this.renderer.viewportToFramedGraph(o[0]),w=m.x,_=m.y;c.setState({x:h.x+y-w,y:h.y+v-_});break;case 2:var x={},E=o[0],S=E.x,L=E.y,C=o[1],A=C.x,k=C.y,O=Math.atan2(k-L,A-S)-this.startTouchesAngle,R=Math.hypot(k-L,A-S)/this.startTouchesDistance,G=c.getBoundedRatio(h.ratio/R);x.ratio=G,x.angle=h.angle+O;var D=this.getDimensions(),F=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:h}),T=Math.min(D.width,D.height),M=T/D.width,P=G/T;_=L-T/2/(T/D.height);w=(t=l([(w=S-T/2/M)*Math.cos(-x.angle)-_*Math.sin(-x.angle),_*Math.cos(-x.angle)+w*Math.sin(-x.angle)],2))[0],_=t[1],x.x=F.x-w*P,x.y=F.y+_*P,c.setState(x)}this.emit("touchmove",(0,f.getTouchCoords)(e,this.container))}}},t}(f.default);t.default=y},438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doEdgeCollideWithPoint=t.isPixelColored=void 0,t.isPixelColored=function(e,t,n){var r=new Uint8Array(4);return e.readPixels(t,e.drawingBufferHeight-n,1,1,e.RGBA,e.UNSIGNED_BYTE,r),r[3]>0},t.doEdgeCollideWithPoint=function(e,t,n,r,o,c,h){return!(e<n-h&&e<o-h)&&(!(t<r-h&&t<c-h)&&(!(e>n+h&&e>o+h)&&(!(t>r+h&&t>c+h)&&Math.abs((o-n)*(r-t)-(n-e)*(c-r))/Math.sqrt(Math.pow(o-n,2)+Math.pow(c-r,2))<h/2)))}}}]);